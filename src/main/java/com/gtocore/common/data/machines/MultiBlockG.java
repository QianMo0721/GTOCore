package com.gtocore.common.data.machines;

import com.gtocore.api.machine.part.GTOPartAbility;
import com.gtocore.api.pattern.GTOPredicates;
import com.gtocore.client.renderer.machine.ArrayMachineRenderer;
import com.gtocore.client.renderer.machine.CustomPartRenderer;
import com.gtocore.common.data.GTOBlocks;
import com.gtocore.common.data.GTOMachines;
import com.gtocore.common.data.GTOMaterials;
import com.gtocore.common.data.GTORecipeTypes;
import com.gtocore.common.data.translation.GTOMachineStories;
import com.gtocore.common.data.translation.GTOMachineTooltips;
import com.gtocore.common.machine.multiblock.electric.ChiselMachine;
import com.gtocore.common.machine.multiblock.electric.DrawingTowerMachine;
import com.gtocore.common.machine.multiblock.electric.SuperMolecularAssemblerMachine;
import com.gtocore.common.machine.multiblock.electric.TreeGrowthSimulator;
import com.gtocore.common.machine.multiblock.electric.adventure.BossSummonerMachine;
import com.gtocore.common.machine.multiblock.electric.processing.ProcessingArrayMachine;
import com.gtocore.common.machine.multiblock.electric.space.SatelliteControlCenterMachine;
import com.gtocore.common.machine.multiblock.electric.voidseries.VoidTransporterMachine;
import com.gtocore.common.machine.multiblock.noenergy.AlgaeFarmMachine;
import com.gtocore.common.machine.multiblock.noenergy.LargeCokeOvenMachine;
import com.gtocore.common.machine.multiblock.storage.MEStorageMachine;
import com.gtocore.common.machine.multiblock.storage.MultiblockCrateMachine;
import com.gtocore.common.machine.multiblock.storage.WirelessDimensionRepeaterMachine;
import com.gtocore.common.machine.multiblock.storage.WirelessEnergySubstationMachine;

import com.gtolib.GTOCore;
import com.gtolib.api.GTOValues;
import com.gtolib.api.ae2.machine.MECPUMachine;
import com.gtolib.api.annotation.NewDataAttributes;
import com.gtolib.api.data.GTODimensions;
import com.gtolib.api.lang.CNEN;
import com.gtolib.api.machine.multiblock.*;
import com.gtolib.api.recipe.modifier.RecipeModifierFunction;
import com.gtolib.utils.MultiBlockFileReader;
import com.gtolib.utils.RegistriesUtils;

import com.gregtechceu.gtceu.GTCEu;
import com.gregtechceu.gtceu.api.data.chemical.ChemicalHelper;
import com.gregtechceu.gtceu.api.data.tag.TagPrefix;
import com.gregtechceu.gtceu.api.machine.MultiblockMachineDefinition;
import com.gregtechceu.gtceu.api.machine.multiblock.PartAbility;
import com.gregtechceu.gtceu.api.pattern.FactoryBlockPattern;
import com.gregtechceu.gtceu.api.pattern.util.RelativeDirection;
import com.gregtechceu.gtceu.common.data.*;

import net.minecraft.core.BlockPos;
import net.minecraft.world.level.block.Blocks;
import net.minecraft.world.level.material.Fluids;
import net.minecraft.world.phys.shapes.Shapes;

import com.enderio.EnderIO;
import earth.terrarium.adastra.common.registry.ModBlocks;

import static com.gregtechceu.gtceu.api.GTValues.*;
import static com.gregtechceu.gtceu.api.machine.multiblock.PartAbility.*;
import static com.gregtechceu.gtceu.api.pattern.Predicates.*;
import static com.gregtechceu.gtceu.common.data.GTBlocks.CASING_COKE_BRICKS;
import static com.gregtechceu.gtceu.common.data.GTMachines.COKE_OVEN_HATCH;
import static com.gregtechceu.gtceu.common.data.GTRecipeTypes.DUMMY_RECIPES;
import static com.gtocore.utils.register.MachineRegisterUtils.multiblock;
import static com.gtocore.utils.register.MachineRegisterUtils.registerTieredMultis;
import static com.gtolib.api.GTOValues.GLASS_TIER;

public final class MultiBlockG {

    public static final MultiblockMachineDefinition LARGE_COKE_OVEN = multiblock("large_coke_oven", "大型焦炉", LargeCokeOvenMachine::new)
            .nonYAxisRotation()
            .tooltips(NewDataAttributes.ALLOW_PARALLEL_NUMBER.create(8))
            .recipeModifiers(RecipeModifierFunction.recipeReduction(1, 2), RecipeModifierFunction.accurateParallel(8))
            .recipeTypes(GTRecipeTypes.COKE_OVEN_RECIPES)
            .block(GTBlocks.CASING_COKE_BRICKS)
            .pattern(definition -> FactoryBlockPattern.start(definition)
                    .aisle("AAAAA", "CAAAC", "CAAAC", "CAAAC")
                    .aisle("AAAAA", "AA AA", "AA AA", "AAAAA")
                    .aisle("AAAAA", "AA AA", "A   A", "AAAAA")
                    .aisle("AAAAA", "AA AA", "A   A", "AAAAA")
                    .aisle("AAAAA", "AA AA", "AA AA", "AAAAA")
                    .aisle("AAAAA", "CAAAC", "CABAC", "CAAAC")
                    .where('A', blocks(CASING_COKE_BRICKS.get()).or(blocks(COKE_OVEN_HATCH.get()).setMaxGlobalLimited(5)))
                    .where('B', controller(blocks(definition.get())))
                    .where(' ', air())
                    .where('C', any())
                    .build())
            .workableCasingRenderer(GTCEu.id("block/casings/solid/machine_coke_bricks"), GTCEu.id("block/multiblock/coke_oven"))
            .register();

    public static final MultiblockMachineDefinition CRYSTALLIZATION_CHAMBER = multiblock("crystallization_chamber", "结晶器", CoilMultiblockMachine.createCoilMachine(false, true))
            .nonYAxisRotation()
            .tooltips(GTOMachineStories.INSTANCE.getCrystallizationChamberTooltips().getSupplier())
            .recipeTypes(GTORecipeTypes.CRYSTALLIZATION_RECIPES)
            .overclock()
            .moduleTooltips()
            .block(GTBlocks.CASING_STEEL_SOLID)
            .pattern(definition -> FactoryBlockPattern.start(definition)
                    .aisle("aaaaa", "aBBBa", "aBBBa", "aaaaa", "     ")
                    .aisle("aCCCa", "B   B", "B   B", "aCCCa", " aaa ")
                    .aisle("aCDCa", "B E B", "B E B", "aCDCa", " aaa ")
                    .aisle("aCCCa", "B   B", "B   B", "aCCCa", " aaa ")
                    .aisle("aa~aa", "aBBBa", "aBBBa", "aaaaa", "     ")
                    .where('~', controller(blocks(definition.get())))
                    .where('a', blocks(GTBlocks.CASING_STEEL_SOLID.get())
                            .or(autoAbilities(definition.getRecipeTypes()))
                            .or(abilities(MAINTENANCE).setExactLimit(1)))
                    .where('B', blocks(GTBlocks.CASING_TEMPERED_GLASS.get()))
                    .where('C', heatingCoils())
                    .where('D', blocks(GTBlocks.CASING_INVAR_HEATPROOF.get()))
                    .where('E', blocks(ChemicalHelper.getBlock(TagPrefix.frameGt, GTMaterials.Steel)))
                    .where(' ', any())
                    .build())
            .addSubPattern(definition -> FactoryBlockPattern.start(definition)
                    .aisle("ADDDA", "BBBBB", "BBBBB", "BBBBB", "BBBBB", "     ")
                    .aisle("ACCCA", "B B B", "B B B", "BEBEB", "BEBEB", " E E ")
                    .aisle("ACCCA", "BBBBB", "BBBBB", "BBBBB", "BBBBB", " E E ")
                    .aisle("     ", "     ", "     ", "     ", " E E ", " E E ")
                    .aisle("     ", "     ", "     ", "     ", "     ", "     ")
                    .aisle("     ", "     ", "     ", "     ", "     ", "     ")
                    .aisle("     ", "     ", "     ", "     ", "     ", "     ")
                    .aisle("  F  ", "     ", "     ", "     ", "     ", "     ")
                    .where('A', blocks(GTBlocks.CASING_STEEL_SOLID.get())
                            .or(GTOPredicates.autoIOAbilities(definition.getRecipeTypes()))
                            .or(abilities(PartAbility.INPUT_ENERGY).setMaxGlobalLimited(2))
                            .or(abilities(GTOPartAbility.ACCELERATE_HATCH).setMaxGlobalLimited(1)))
                    .where('B', blocks(GTOBlocks.PRESSURE_CONTAINMENT_CASING.get()))
                    .where('C', blocks(GTBlocks.CASING_STEEL_SOLID.get()))
                    .where('D', blocks(GTBlocks.FIREBOX_STEEL.get()))
                    .where('E', blocks(GTBlocks.CASING_STEEL_PIPE.get()))
                    .where('F', controller(blocks(definition.get())))
                    .where(' ', any())
                    .build())
            .workableCasingRenderer(GTCEu.id("block/casings/solid/machine_casing_solid_steel"), GTCEu.id("block/multiblock/large_chemical_reactor"))
            .register();

    public static final MultiblockMachineDefinition LARGE_CRYSTALLIZATION_CHAMBER = multiblock("large_crystallization_chamber", "大型结晶器", CoilMultiblockMachine.createCoilMachine(false, true))
            .nonYAxisRotation()
            .recipeTypes(GTORecipeTypes.CRYSTALLIZATION_RECIPES)
            .parallelizableTooltips()
            .parallelizableOverclock()
            .block(GCYMBlocks.CASING_HIGH_TEMPERATURE_SMELTING)
            .pattern(definition -> FactoryBlockPattern.start(definition)
                    .aisle("     AAAAA     ", "     AAAAA     ", "      AAA      ", "               ", "               ", "               ", "               ", "               ", "               ", "               ", "               ", "               ", "               ", "               ", "               ", "               ", "               ", "               ", "               ")
                    .aisle("   AAABBBAAA   ", "      CCC      ", "     AABAA     ", "       B       ", "       B       ", "       B       ", "               ", "               ", "               ", "               ", "               ", "               ", "               ", "               ", "               ", "               ", "               ", "     DDDDD     ", "               ")
                    .aisle("  ABBBBBBBBBA  ", "   AEEFFFEEA   ", "   AAAFFFAAA   ", "      FFF      ", "      GGG      ", "       B       ", "               ", "               ", "               ", "     GGGGG     ", "               ", "               ", "               ", "               ", "     DDDDD     ", "     EHHHE     ", "     EHHHE     ", "   DDDDDDDDD   ", "               ")
                    .aisle(" ABBBBBBBBBBBA ", "  ACFFIIIFFCA  ", "  ADFFIIIFFDA  ", "   DFFIIIFFD   ", "   DJCCCCCJD   ", "   DJCIIICJD   ", "    JCKKKCJ    ", "    JCKKKCJ    ", "    JCIIICJ    ", "    JCCCCCJ    ", "    JCIIICJ    ", "    JCKKKCJ    ", "   DJCKKKCJD   ", "   DJCIIICJD   ", "   DDDCCCDDD   ", "   DFFIIIFFD   ", "   DFFIIIFFD   ", "  DDDDDHDDDDD  ", "      D D      ")
                    .aisle(" ABBBBBBBBBBBA ", "  EFIILLLIIFE  ", "  AFIILLLIIFA  ", "   FIILLLIIF   ", "   JMNLLLNMJ   ", "   JMNLLLNMJ   ", "   JMNLLLNMJ   ", "   JMNLLLNMJ   ", "   JMNLOLNMJ   ", "   JMNLLLNMJ   ", "   JMNLLLNMJ   ", "   JMNLLLNMJ   ", "   JMNLLLNMJ   ", "   JMNLLLNMJ   ", "   DMNLLLNMD   ", "   FMNLLLNMF   ", "   FMNPPPNMF   ", "  DDDDDHDDDDD  ", "      D D      ")
                    .aisle("AABBBBBBBBBBBAA", "A EFIQ   QIFE A", " AAFIQ   QIFAA ", "   FIQ   QIF   ", "   CNQ   QNC   ", "   CNQ   QNC   ", "   CNQ   QNC   ", "   CNQ   QNC   ", "   CNQQOQQNC   ", "  GCNQ   QNCG  ", "   CNQ   QNC   ", "   CNQ   QNC   ", "   CNQ   QNC   ", "   CNQ   QNC   ", "  DDNQ   QNDD  ", "  EFNQ   QNFE  ", "  EFNPPPPPNFE  ", " DDDDDDNDDDDDD ", "     DDDDD     ")
                    .aisle("ABBBBBBBBBBBBBA", "ACFIL     LIFCA", "AAFIL     LIFAA", "  FIL     LIF  ", "  GCL     LCG  ", "   IL     LI   ", "   KL     LK   ", "   KL     LK   ", "   ILQQOQQLI   ", "  GCL     LCG  ", "   IL     LI   ", "   KL     LK   ", "   KL     LK   ", "   IL     LI   ", "  DCL     LCD  ", "  HIL     LIH  ", "  HIPPPPPPPIH  ", " DDDDDDNDDDDDD ", "   DDDDHDDDD   ")
                    .aisle("ABBBBBBBBBBBBBA", "ACFIL  O  LIFCA", "ABFIL  O  LIFBA", " BFIL  O  LIFB ", " BGCL  O  LCGB ", " BBIL  O  LIBB ", "   KL  O  LK   ", "   KL  O  LK   ", "   IOOOOOOOI   ", "  GCL  O  LCG  ", "   IL  O  LI   ", "   KL  O  LK   ", "   KL  O  LK   ", "   IL  O  LI   ", "  DCL  O  LCD  ", "  HIL  O  LIH  ", "  HIPPPOPPPIH  ", " DDHHNNONNHHDD ", "     DHHHD     ")
                    .aisle("ABBBBBBBBBBBBBA", "ACFIL     LIFCA", "AAFIL     LIFAA", "  FIL     LIF  ", "  GCL     LCG  ", "   IL     LI   ", "   KL     LK   ", "   KL     LK   ", "   ILQQOQQLI   ", "  GCL     LCG  ", "   IL     LI   ", "   KL     LK   ", "   KL     LK   ", "   IL     LI   ", "  DCL     LCD  ", "  HIL     LIH  ", "  HIPPPPPPPIH  ", " DDDDDDNDDDDDD ", "   DDDDHDDDD   ")
                    .aisle("AABBBBBBBBBBBAA", "A EFIQ   QIFE A", " AAFIQ   QIFAA ", "   FIQ   QIF   ", "   CNQ   QNC   ", "   CNQ   QNC   ", "   CNQ   QNC   ", "   CNQ   QNC   ", "   CNQQOQQNC   ", "  GCNQ   QNCG  ", "   CNQ   QNC   ", "   CNQ   QNC   ", "   CNQ   QNC   ", "   CNQ   QNC   ", "  DDNQ   QNDD  ", "  EFNQ   QNFE  ", "  EFNPPPPPNFE  ", " DDDDDDNDDDDDD ", "     DDDDD     ")
                    .aisle(" ABBBBBBBBBBBA ", "  EFIILLLIIFE  ", "  AFIILLLIIFA  ", "   FIILLLIIF   ", "   JMNLLLNMJ   ", "   JMNLLLNMJ   ", "   JMNLLLNMJ   ", "   JMNLLLNMJ   ", "   JMNLOLNMJ   ", "   JMNLLLNMJ   ", "   JMNLLLNMJ   ", "   JMNLLLNMJ   ", "   JMNLLLNMJ   ", "   JMNLLLNMJ   ", "   DMNLLLNMD   ", "   FMNLLLNMF   ", "   FMNPPPNMF   ", "  DDDDDHDDDDD  ", "      D D      ")
                    .aisle(" ABBBBBBBBBBBA ", "  ACFFIIIFFCA  ", "  ADFFIIIFFDA  ", "   DFFIIIFFD   ", "   DJCCCCCJD   ", "   DJCIIICJD   ", "    JCKKKCJ    ", "    JCKKKCJ    ", "    JCIIICJ    ", "    JCCCCCJ    ", "    JCIIICJ    ", "    JCKKKCJ    ", "   DJCKKKCJD   ", "   DJCIIICJD   ", "   DDDCCCDDD   ", "   DFFIIIFFD   ", "   DFFIIIFFD   ", "  DDDDDHDDDDD  ", "      D D      ")
                    .aisle("  ABBBBBBBBBA  ", "   AEEFFFEEA   ", "   AAAFFFAAA   ", "      FFF      ", "      GGG      ", "       B       ", "               ", "               ", "               ", "     GGGGG     ", "               ", "               ", "               ", "               ", "     DDDDD     ", "     EHHHE     ", "     EHHHE     ", "   DDDDDDDDD   ", "               ")
                    .aisle("   AAABBBAAA   ", "      CCC      ", "     AABAA     ", "       B       ", "       B       ", "       B       ", "               ", "               ", "               ", "               ", "               ", "               ", "               ", "               ", "               ", "               ", "               ", "     DDDDD     ", "               ")
                    .aisle("     AAAAA     ", "     AARAA     ", "      AAA      ", "               ", "               ", "               ", "               ", "               ", "               ", "               ", "               ", "               ", "               ", "               ", "               ", "               ", "               ", "               ", "               ")
                    .where('A', blocks(GCYMBlocks.CASING_HIGH_TEMPERATURE_SMELTING.get())
                            .or(GTOPredicates.autoGCYMAbilities(definition.getRecipeTypes()))
                            .or(abilities(PARALLEL_HATCH).setExactLimit(1))
                            .or(abilities(MAINTENANCE).setExactLimit(1)))
                    .where('B', blocks(GCYMBlocks.CASING_HIGH_TEMPERATURE_SMELTING.get()))
                    .where('C', blocks(GTOBlocks.HIGH_PRESSURE_RESISTANT_CASING.get()))
                    .where('D', blocks(GTOBlocks.IRIDIUM_CASING.get()))
                    .where('E', blocks(GTBlocks.CASING_EXTREME_ENGINE_INTAKE.get()))
                    .where('F', blocks(GTOBlocks.MAGNESIUM_OXIDE_CERAMIC_HIGH_TEMPERATURE_INSULATION_MECHANICAL_BLOCK.get()))
                    .where('G', blocks(ChemicalHelper.getBlock(TagPrefix.frameGt, GTMaterials.NaquadahAlloy)))
                    .where('H', blocks(GTBlocks.CASING_GRATE.get()))
                    .where('I', blocks(GTOBlocks.PRESSURE_CONTAINMENT_CASING.get()))
                    .where('J', blocks(ChemicalHelper.getBlock(TagPrefix.frameGt, GTMaterials.Naquadah)))
                    .where('K', blocks(GTBlocks.FUSION_GLASS.get()))
                    .where('L', heatingCoils())
                    .where('M', blocks(GTOBlocks.PPS_CORROSION_RESISTANT_MECHANICAL_HOUSING.get()))
                    .where('N', blocks(GTOBlocks.BORON_CARBIDE_CERAMIC_RADIATION_RESISTANT_MECHANICAL_CUBE.get()))
                    .where('O', blocks(GTBlocks.CASING_TUNGSTENSTEEL_PIPE.get()))
                    .where('P', blocks(GCYMBlocks.CASING_CORROSION_PROOF.get()))
                    .where('Q', blocks(ChemicalHelper.getBlock(TagPrefix.frameGt, GTMaterials.IncoloyMA956)))
                    .where('R', controller(blocks(definition.get())))
                    .where(' ', any())
                    .build())
            .workableCasingRenderer(GTCEu.id("block/casings/gcym/high_temperature_smelting_casing"), GTCEu.id("block/multiblock/large_chemical_reactor"))
            .register();

    public static final MultiblockMachineDefinition ALGAE_FARM = multiblock("algae_farm", "藻类农场", AlgaeFarmMachine::new)
            .nonYAxisRotation()
            .tooltips(GTOMachineStories.INSTANCE.getAlgaeFarmTooltips().getSupplier())
            .tooltips(GTOMachineTooltips.INSTANCE.getAlgaeFarmTooltips().getSupplier())
            .recipeTypes(GTORecipeTypes.DUMMY_RECIPES)
            .block(GTBlocks.PLASTCRETE)
            .pattern(definition -> FactoryBlockPattern.start(definition)
                    .aisle("AAAGGGAAA", "CCCGGGCCC", "CCCCCCCCC")
                    .aisle("AEAEAEAEA", "CWCWCWCWC", "CFCFCFCFC")
                    .aisle("AEAEAEAEA", "CWCWCWCWC", "CCCCCCCCC")
                    .aisle("AEAEAEAEA", "CWCWCWCWC", "DFDFDFDFD")
                    .aisle("BBBBBBBBB", "CWCWCWCWC", "DFDFDFDFD")
                    .aisle("AEAEAEAEA", "CWCWCWCWC", "DFDFDFDFD")
                    .aisle("AEAEAEAEA", "CWCWCWCWC", "CCCCCCCCC")
                    .aisle("AEAEAEAEA", "CWCWCWCWC", "CFCFCFCFC")
                    .aisle("AAAGHGAAA", "CCCGGGCCC", "CCCCCCCCC")
                    .where('A', blocks(GTBlocks.PLASTCRETE.get()))
                    .where('B', blocks(GTBlocks.CASING_STEEL_PIPE.get()))
                    .where('C', blocks(GTOBlocks.BRASS_REINFORCED_WOODEN_CASING.get()))
                    .where('D', blocks(ChemicalHelper.getBlock(TagPrefix.frameGt, GTMaterials.Aluminium)))
                    .where('E', blocks(GTBlocks.CASING_STAINLESS_CLEAN.get()))
                    .where('F', blocks(Blocks.GLASS))
                    .where('G', blocks(GTBlocks.PLASTCRETE.get())
                            .or(blocks(GTMachines.ITEM_IMPORT_BUS[ULV].getBlock()).setMaxGlobalLimited(1))
                            .or(abilities(IMPORT_FLUIDS).setExactLimit(1))
                            .or(abilities(EXPORT_ITEMS).setExactLimit(1)))
                    .where('H', controller(blocks(definition.get())))
                    .where('W', fluids(Fluids.WATER))
                    .where(' ', any())
                    .build())
            .workableCasingRenderer(GTCEu.id("block/casings/cleanroom/plascrete"), GTCEu.id("block/multiblock/large_chemical_reactor"))
            .register();

    public static final MultiblockMachineDefinition POLYMERIZATION_REACTOR = multiblock("polymerization_reactor", "聚合反应器", CoilMultiblockMachine.createCoilMachine(false, false))
            .nonYAxisRotation()
            .recipeTypes(GTORecipeTypes.POLYMERIZATION_REACTOR_RECIPES)
            .recipeModifier(RecipeModifierFunction.coilReductionOverclock(0.5))
            .tooltips(GTOMachineStories.INSTANCE.getPolymerizationReactorTooltips().getSupplier())
            .tooltips(GTOMachineTooltips.INSTANCE.getPolymerizationReactorTooltips().getSupplier())
            .parallelizableTooltips()
            .block(GTBlocks.CASING_STAINLESS_CLEAN)
            .pattern(definition -> FactoryBlockPattern.start(definition)
                    .aisle("A   A", "ABBBA", "ACDCA", "BCDCB", " BBB ")
                    .aisle("  B  ", "BEEEB", "C   C", "C   C", "BBBBB")
                    .aisle(" BBB ", "BEBEB", "D B D", "D B D", "BBBBB")
                    .aisle("  B  ", "BEEEB", "C   C", "C   C", "BBBBB")
                    .aisle("A   A", "AB~BA", "ACDCA", "BCDCB", " BBB ")
                    .where('~', controller(blocks(definition.get())))
                    .where('A', blocks(ChemicalHelper.getBlock(TagPrefix.frameGt, GTMaterials.StainlessSteel)))
                    .where('B', blocks(GTBlocks.CASING_STAINLESS_CLEAN.get()))
                    .where('C', blocks(GTBlocks.CASING_STAINLESS_CLEAN.get())
                            .or(autoAbilities(definition.getRecipeTypes()))
                            .or(abilities(PARALLEL_HATCH).setMaxGlobalLimited(1))
                            .or(abilities(MAINTENANCE).setExactLimit(1)))
                    .where('D', blocks(GTBlocks.CASING_TEMPERED_GLASS.get()))
                    .where('E', heatingCoils())
                    .where(' ', any())
                    .build())
            .workableCasingRenderer(GTCEu.id("block/casings/solid/machine_casing_clean_stainless_steel"), GTCEu.id("block/multiblock/large_chemical_reactor"))
            .register();

    public static final MultiblockMachineDefinition SATELLITE_CONTROL_CENTER = multiblock("satellite_control_center", "卫星控制中心", SatelliteControlCenterMachine::new)
            .nonYAxisRotation()
            .tooltips(GTOMachineTooltips.INSTANCE.getSatelliteControlCenterTooltips().getSupplier())
            .recipeTypes(DUMMY_RECIPES)
            .block(GTBlocks.CASING_STAINLESS_CLEAN)
            .pattern(definition -> FactoryBlockPattern.start(definition, RelativeDirection.BACK, RelativeDirection.UP, RelativeDirection.LEFT)
                    .aisle(" FFFFF ", "       ", "       ", "       ", "       ", "       ", "       ", "       ", "       ")
                    .aisle("FFFFFFF", " GHHHG ", " GHHHG ", " GHHHG ", " GHHHG ", "  HHH  ", "       ", "       ", "       ")
                    .aisle("FFFFFFF", " HICIH ", " HICIH ", " HICIH ", " HICIH ", " HICIH ", "  HHH  ", "       ", "       ")
                    .aisle("FFFFFFF", " HCJCH ", " KCJCH ", " HCJCH ", " HCJCH ", " HCJCH ", "  HHH  ", "       ", "       ")
                    .aisle("FFFFFFF", " HICIH ", " HICIH ", " HICIH ", " HICIH ", " HICIH ", "  HHH  ", "       ", "       ")
                    .aisle("FFFFFFF", " GHHHG ", " GHCHG ", " GHHHG ", " GHHHG ", "  HHH  ", "       ", "       ", "       ")
                    .aisle(" FBBBF ", "  BDB  ", "  BCB  ", "  BBB  ", "       ", "       ", "       ", "  AAA  ", "  AAA  ")
                    .aisle("  BBB  ", "  BDB  ", "  BCB  ", "  BCB  ", "   E   ", "   E   ", "  ACA  ", " A   A ", "       ")
                    .aisle("  BBB  ", "  BBB  ", "  BBB  ", "  BBB  ", "       ", "  AAA  ", " A   A ", "   C   ", "       ")
                    .aisle("       ", "       ", "       ", "       ", "       ", "  AAA  ", "       ", "       ", "       ")
                    .where('A', blocks(GTBlocks.CASING_STAINLESS_CLEAN.get()))
                    .where('B', blocks(GTOBlocks.MULTI_FUNCTIONAL_CASING.get()))
                    .where('C', blocks(GTBlocks.CASING_STEEL_PIPE.get()))
                    .where('D', blocks(GTBlocks.CASING_STEEL_GEARBOX.get()))
                    .where('E', blocks(ChemicalHelper.getBlock(TagPrefix.frameGt, GTMaterials.Steel)))
                    .where('F', blocks(GTBlocks.CASING_STEEL_SOLID.get()))
                    .where('G', blocks(ChemicalHelper.getBlock(TagPrefix.frameGt, GTMaterials.StainlessSteel)))
                    .where('H', blocks(GTBlocks.CASING_STAINLESS_CLEAN.get())
                            .or(abilities(IMPORT_ITEMS).setMaxGlobalLimited(1))
                            .or(abilities(IMPORT_FLUIDS).setMaxGlobalLimited(1))
                            .or(abilities(EXPORT_ITEMS).setMaxGlobalLimited(2))
                            .or(abilities(INPUT_ENERGY).setMaxGlobalLimited(2))
                            .or(abilities(MAINTENANCE).setExactLimit(1)))
                    .where('I', blocks(GTBlocks.CASING_STAINLESS_STEEL_GEARBOX.get()))
                    .where('J', blocks(GTBlocks.HERMETIC_CASING_HV.get()))
                    .where('K', controller(blocks(definition.get())))
                    .where(' ', any())
                    .build())
            .workableCasingRenderer(GTCEu.id("block/casings/solid/machine_casing_clean_stainless_steel"), GTCEu.id("block/multiblock/fusion_reactor"))
            .register();

    public static final MultiblockMachineDefinition ELECTRIC_COOKING = multiblock("electric_cooking", "电力烹饪锅", ElectricMultiblockMachine::new)
            .nonYAxisRotation()
            .recipeTypes(GTORecipeTypes.ELECTRIC_COOKING_RECIPES)
            .perfectOverclock()
            .perfectOCTooltips()
            .block(GTBlocks.CASING_STAINLESS_CLEAN)
            .pattern(definition -> FactoryBlockPattern.start(definition, RelativeDirection.RIGHT, RelativeDirection.UP, RelativeDirection.BACK)
                    .aisle("  A A  ", "       ", "       ", "       ", "       ", "       ", "       ", "       ")
                    .aisle("       ", "  A A  ", "  BFB  ", "  CDC  ", "  CDC  ", "  CDC  ", "  CCC  ", "       ")
                    .aisle("A EEE A", " ACBCA ", " B   B ", " C   C ", " C   C ", " C   C ", " C   C ", "  CBC  ")
                    .aisle("  ECE  ", "  BCB  ", " B   B ", " D   D ", " D   D ", " D   D ", " C   C ", "  BBB  ")
                    .aisle("A EEE A", " ACBCA ", " B   B ", " C   C ", " C   C ", " C   C ", " C   C ", "  CBC  ")
                    .aisle("       ", "  A A  ", "  BBB  ", "  CDC  ", "  CDC  ", "  CDC  ", "  CCC  ", "       ")
                    .aisle("  A A  ", "       ", "       ", "       ", "       ", "       ", "       ", "       ")
                    .where('A', blocks(ChemicalHelper.getBlock(TagPrefix.frameGt, GTMaterials.StainlessSteel)))
                    .where('B', blocks(GTBlocks.CASING_STAINLESS_CLEAN.get())
                            .or(autoAbilities(definition.getRecipeTypes()))
                            .or(abilities(MAINTENANCE).setExactLimit(1)))
                    .where('C', blocks(GTBlocks.CASING_STAINLESS_CLEAN.get()))
                    .where('D', blocks(GTBlocks.CASING_TEMPERED_GLASS.get()))
                    .where('E', blocks(GTBlocks.COIL_CUPRONICKEL.get()))
                    .where('F', controller(blocks(definition.get())))
                    .where(' ', any())
                    .build())
            .workableCasingRenderer(GTCEu.id("block/casings/solid/machine_casing_clean_stainless_steel"), GTCEu.id("block/multiblock/large_miner"))
            .register();

    public static final MultiblockMachineDefinition TREE_GROWTH_SIMULATOR = multiblock("tree_growth_simulator", "原木拟生场", TreeGrowthSimulator::new)
            .allRotation()
            .tooltips(GTOMachineTooltips.INSTANCE.getTreeGrowthSimulatorTooltips().getSupplier())
            .recipeTypes(GTORecipeTypes.TREE_GROWTH_SIMULATOR_RECIPES)
            .block(GTOBlocks.BRASS_REINFORCED_WOODEN_CASING)
            .pattern(definition -> FactoryBlockPattern.start(definition)
                    .aisle("aaa", "aaa", "aaa")
                    .aisle("aaa", "aca", "aaa")
                    .aisle("aaa", "aia", "aaa")
                    .where('a', blocks(GTOBlocks.BRASS_REINFORCED_WOODEN_CASING.get())
                            .or(abilities(IMPORT_ITEMS).setMaxGlobalLimited(1))
                            .or(abilities(IMPORT_FLUIDS).setMaxGlobalLimited(1))
                            .or(abilities(EXPORT_ITEMS).setMaxGlobalLimited(2))
                            .or(abilities(INPUT_ENERGY).setMaxGlobalLimited(2))
                            .or(abilities(MAINTENANCE).setExactLimit(1)))
                    .where('i', controller(blocks(definition.get())))
                    .where('c', air())
                    .build())
            .workableCasingRenderer(GTOCore.id("block/casings/brass_reinforced_wooden_casing"), GTCEu.id("block/multiblock/fusion_reactor"))
            .register();

    public static final MultiblockMachineDefinition LARGE_GREENHOUSE = multiblock("large_greenhouse", "大型温室", ElectricMultiblockMachine::new)
            .nonYAxisRotation()
            .recipeTypes(GTORecipeTypes.GREENHOUSE_RECIPES)
            .recipeTypes(GTORecipeTypes.TREE_GROWTH_SIMULATOR_RECIPES)
            .tooltips(GTOMachineTooltips.INSTANCE.getLargeGreenhouseTooltips().getSupplier())
            .parallelizableTooltips()
            .parallelizableOverclock()
            .block(GTBlocks.CASING_STAINLESS_CLEAN)
            .pattern(definition -> FactoryBlockPattern.start(definition)
                    .aisle("aaaaaaaaa", "aaaaaaaaa", "abbbcbbba", "abbbcbbba", "abbbcbbba", "abbbcbbba", "abbbcbbba", "abbbcbbba", "aaaaaaaaa", "aaaaaaaaa")
                    .aisle("aaaaaaaaa", "addddddda", "b       b", "b       b", "b       b", "b       b", "b       b", "b       b", "aeeeceeea", "afffffffa")
                    .aisle("aaaaaaaaa", "addddddda", "b       b", "b       b", "b       b", "b       b", "b       b", "b       b", "aeeeceeea", "afffffffa")
                    .aisle("aaaaaaaaa", "addddddda", "b       b", "b       b", "b       b", "b       b", "b       b", "b       b", "aeeeceeea", "afffffffa")
                    .aisle("aaaaaaaaa", "addddddda", "c       c", "c       c", "c       c", "c       c", "c       c", "c       c", "accccccca", "afffffffa")
                    .aisle("aaaaaaaaa", "addddddda", "b       b", "b       b", "b       b", "b       b", "b       b", "b       b", "aeeeceeea", "afffffffa")
                    .aisle("aaaaaaaaa", "addddddda", "b       b", "b       b", "b       b", "b       b", "b       b", "b       b", "aeeeceeea", "afffffffa")
                    .aisle("aaaaaaaaa", "addddddda", "b       b", "b       b", "b       b", "b       b", "b       b", "b       b", "aeeeceeea", "afffffffa")
                    .aisle("aaaaaaaaa", "aaaa~aaaa", "abbbcbbba", "abbbcbbba", "abbbcbbba", "abbbcbbba", "abbbcbbba", "abbbcbbba", "aaaaaaaaa", "aaaaaaaaa")
                    .where('~', controller(blocks(definition.get())))
                    .where('b', blocks(GTBlocks.CASING_TEMPERED_GLASS.get()))
                    .where('c', blocks(ChemicalHelper.getBlock(TagPrefix.frameGt, GTMaterials.StainlessSteel)))
                    .where('d', blocks(RegistriesUtils.getBlock("farmersdelight:rich_soil")))
                    .where('e', blocks(GTBlocks.CASING_POLYTETRAFLUOROETHYLENE_PIPE.get()))
                    .where('f', blocks(GTBlocks.CASING_GRATE.get()))
                    .where('a', blocks(GTBlocks.CASING_STAINLESS_CLEAN.get())
                            .setMinGlobalLimited(180)
                            .or(autoAbilities(definition.getRecipeTypes()))
                            .or(abilities(PARALLEL_HATCH).setMaxGlobalLimited(1))
                            .or(abilities(MAINTENANCE).setExactLimit(1)))
                    .where(' ', air())
                    .build())
            .workableCasingRenderer(GTCEu.id("block/casings/solid/machine_casing_clean_stainless_steel"), GTCEu.id("block/multiblock/fusion_reactor"))
            .register();

    public static final MultiblockMachineDefinition CARVING_CENTER = multiblock("carving_center", "雕刻中心", ChiselMachine::new)
            .allRotation()
            .tooltips(GTOMachineTooltips.INSTANCE.getCarvingCenterTooltips().getSupplier())
            .recipeTypes(DUMMY_RECIPES)
            .block(GTBlocks.CASING_STEEL_SOLID)
            .pattern(definition -> FactoryBlockPattern.start(definition)
                    .aisle("AAAAA", "ABABA", "ABABA", " CCC ")
                    .aisle("ADDDA", "C   C", "C E C", "CCCCC")
                    .aisle("ADDDA", "C F C", "CEFEC", "CCCCC")
                    .aisle("ADDDA", "C   C", "C   C", "CCCCC")
                    .aisle("AAGAA", "AHHHA", "AHHHA", " CCC ")
                    .where('A', blocks(GTBlocks.CASING_STEEL_SOLID.get())
                            .or(abilities(IMPORT_ITEMS).setMaxGlobalLimited(4))
                            .or(abilities(EXPORT_ITEMS).setMaxGlobalLimited(1))
                            .or(abilities(INPUT_ENERGY).setMaxGlobalLimited(2))
                            .or(abilities(MAINTENANCE).setExactLimit(1)))
                    .where('B', blocks(ChemicalHelper.getBlock(TagPrefix.frameGt, GTMaterials.Steel)))
                    .where('C', blocks(GTBlocks.CASING_STEEL_SOLID.get()))
                    .where('D', blocks(GTBlocks.STEEL_HULL.get()))
                    .where('E', blocks(GTBlocks.CASING_STEEL_GEARBOX.get()))
                    .where('F', blocks(Blocks.IRON_BARS))
                    .where('G', controller(blocks(definition.get())))
                    .where('H', blocks(GTBlocks.CASING_TEMPERED_GLASS.get()))
                    .where(' ', any())
                    .build())
            .workableCasingRenderer(GTCEu.id("block/casings/solid/machine_casing_solid_steel"), GTCEu.id("block/multiblock/fusion_reactor"))
            .register();

    public static final MultiblockMachineDefinition ANCIENT_REACTOR_CORE = multiblock("ancient_reactor_core", "远古反应核", VoidTransporterMachine.create(1, 0, VoidTransporterMachine.teleportToDimension(GTODimensions.ANCIENT_WORLD, new BlockPos(0, 63, 0))))
            .nonYAxisRotation()
            .recipeTypes(DUMMY_RECIPES)
            .tooltipsText("右键核心传送到远古世界", "Right-click the core to send it to Ancient World.")
            .block(RegistriesUtils.getSupplierBlock("enderio:soularium_block"))
            .pattern(definition -> FactoryBlockPattern.start(definition)
                    .aisle("ABA")
                    .aisle("BCB")
                    .aisle("ABA")
                    .where('A', blocks(Blocks.DIAMOND_BLOCK))
                    .where('B', blocks(ModBlocks.STEEL_BLOCK.get()))
                    .where('C', controller(blocks(definition.get())))
                    .build())
            .workableCasingRenderer(EnderIO.loc("block/reinforced_obsidian_block"), GTOCore.id("block/multiblock/ancient_reactor_core"))
            .register();

    public static final MultiblockMachineDefinition NETHER_REACTOR_CORE = multiblock("nether_reactor_core", "下界反应核", VoidTransporterMachine.create(2, 1920, VoidTransporterMachine.teleportToDimension(GTODimensions.THE_NETHER, new BlockPos(0, 63, 0))))
            .nonYAxisRotation()
            .recipeTypes(DUMMY_RECIPES)
            .tooltipsKey("gtceu.universal.tooltip.voltage_in", VA[EV], VNF[EV])
            .tooltipsText("运行后右键核心传送到下界", "Right-click the core to send it to the Nether.")
            .block(RegistriesUtils.getSupplierBlock("enderio:soularium_block"))
            .pattern(definition -> FactoryBlockPattern.start(definition)
                    .aisle("ABA", "B B", " B ")
                    .aisle("BBB", " C ", "BBB")
                    .aisle("ABA", "B B", " B ")
                    .where('A', blocks(Blocks.GOLD_BLOCK))
                    .where('B', blocks(RegistriesUtils.getBlock("enderio:soularium_block"))
                            .or(abilities(INPUT_ENERGY).setExactLimit(1)))
                    .where('C', controller(blocks(definition.get())))
                    .where(' ', any())
                    .build())
            .workableCasingRenderer(EnderIO.loc("block/soularium_block"), GTOCore.id("block/multiblock/nether_reactor_core"))
            .register();

    public static final MultiblockMachineDefinition VOID_TRANSPORTER = multiblock("void_transporter", "虚空传送器", VoidTransporterMachine.create(0, 480))
            .nonYAxisRotation()
            .recipeTypes(DUMMY_RECIPES)
            .tooltipsKey("gtceu.universal.tooltip.voltage_in", VA[HV], VNF[HV])
            .tooltipsText("运行后右键黑曜石传送到虚空，如果是哭泣黑曜石则为超平坦", "Right-click obsidian to send it to the void, and if it is crying obsidian, it will be flat.")
            .block(RegistriesUtils.getSupplierBlock("enderio:reinforced_obsidian_block"))
            .pattern(definition -> FactoryBlockPattern.start(definition)
                    .aisle("AAA", "AAA", "AAA")
                    .aisle("AAA", "ABA", "AAA")
                    .aisle("A~A", "ACA", "AAA")
                    .where('~', controller(blocks(definition.get())))
                    .where('A', blocks(RegistriesUtils.getBlock("enderio:reinforced_obsidian_block"))
                            .or(abilities(INPUT_ENERGY).setExactLimit(1)))
                    .where('B', blocks(ANCIENT_REACTOR_CORE.getBlock()))
                    .where('C', blocks(Blocks.OBSIDIAN).or(blocks(Blocks.CRYING_OBSIDIAN)))
                    .build())
            .workableCasingRenderer(EnderIO.loc("block/reinforced_obsidian_block"), GTCEu.id("block/multiblock/implosion_compressor"))
            .register();

    public static final MultiblockMachineDefinition BOSS_SUMMONER = multiblock("boss_summoner", "BOSS召唤器", BossSummonerMachine::new)
            .nonYAxisRotation()
            .tooltips(GTOMachineTooltips.INSTANCE.getBossSummonerTooltips().getSupplier())
            .recipeTypes(DUMMY_RECIPES)
            .block(GTBlocks.MACHINE_CASING_ULV)
            .pattern(definition -> FactoryBlockPattern.start(definition)
                    .aisle("AAaAA", "     ")
                    .aisle("AAAAA", " AAA ")
                    .aisle("aAAAa", " ABA ")
                    .aisle("AAAAA", " AAA ")
                    .aisle("AA~AA", "     ")
                    .where('~', controller(blocks(definition.get())))
                    .where('A', blocks(GTBlocks.MACHINE_CASING_ULV.get()))
                    .where('a', blocks(GTBlocks.MACHINE_CASING_ULV.get())
                            .or(abilities(INPUT_ENERGY).setMaxGlobalLimited(2, 1)))
                    .where('B', blocks(ANCIENT_REACTOR_CORE.getBlock()))
                    .where(' ', any())
                    .build())
            .workableCasingRenderer(GTCEu.id("block/casings/voltage/ulv/side"), GTCEu.id("block/multiblock/implosion_compressor"))
            .register();

    public static final MultiblockMachineDefinition DRILLING_CONTROL_CENTER = multiblock("drilling_control_center", "钻井控制中枢", DrillingControlCenterMachine::new)
            .nonYAxisRotation()
            .tooltips(GTOMachineTooltips.INSTANCE.getDrillingControlCenterTooltips().getSupplier())
            .recipeTypes(DUMMY_RECIPES)
            .block(GTBlocks.CASING_STEEL_SOLID)
            .pattern(definition -> FactoryBlockPattern.start(definition, RelativeDirection.RIGHT, RelativeDirection.UP, RelativeDirection.BACK)
                    .aisle(" AAAAA ", "  AIA  ", "       ", "       ", "       ", "       ", "       ", "       ", "       ", "       ")
                    .aisle("AABBBAA", " CBBBC ", " CDDDC ", "  DDD  ", "  DDD  ", "  DDD  ", "  DDD  ", "  BBB  ", "  BBB  ", "       ")
                    .aisle("ABEEEBA", "ABEEEBA", " DEFED ", " DEFED ", " DEFED ", " DEFED ", " DEFED ", " BEEEB ", " BBBBB ", "   B   ")
                    .aisle("ABEEEBA", "ABEEEBA", " DFGFD ", " DFHFD ", " DFGFD ", " DFHFD ", " DFGFD ", " BEEEB ", " BBBBB ", "  BBB  ")
                    .aisle("ABEEEBA", "ABEEEBA", " DEFED ", " DEFED ", " DEFED ", " DEFED ", " DEFED ", " BEEEB ", " BBBBB ", "   B   ")
                    .aisle("AABBBAA", " CBBBC ", " CDDDC ", "  DDD  ", "  DDD  ", "  DDD  ", "  DDD  ", "  BBB  ", "  BBB  ", "       ")
                    .aisle(" AAAAA ", "  AAA  ", "       ", "       ", "       ", "       ", "       ", "       ", "       ", "       ")
                    .where('A', blocks(GTBlocks.CASING_STEEL_SOLID.get())
                            .or(abilities(INPUT_ENERGY).setMaxGlobalLimited(2))
                            .or(abilities(MAINTENANCE).setExactLimit(1)))
                    .where('B', blocks(GTBlocks.CASING_TUNGSTENSTEEL_ROBUST.get()))
                    .where('C', blocks(GTBlocks.CASING_TITANIUM_STABLE.get()))
                    .where('D', blocks(GTOBlocks.TUNGSTEN_BOROSILICATE_GLASS.get()))
                    .where('E', blocks(GTBlocks.CASING_STAINLESS_CLEAN.get()))
                    .where('F', blocks(GTBlocks.MACHINE_CASING_IV.get()))
                    .where('G', blocks(GTBlocks.CASING_TUNGSTENSTEEL_GEARBOX.get()))
                    .where('H', blocks(GTBlocks.HERMETIC_CASING_IV.get()))
                    .where('I', controller(blocks(definition.get())))
                    .where(' ', any())
                    .build())
            .workableCasingRenderer(GTCEu.id("block/casings/solid/machine_casing_solid_steel"), GTOCore.id("block/multiblock/general0"))
            .register();

    public static final MultiblockMachineDefinition DRONE_CONTROL_CENTER = multiblock("drone_control_center", "无人机控制中心", DroneControlCenterMachine::new)
            .nonYAxisRotation()
            .recipeTypes(DUMMY_RECIPES)
            .block(GTBlocks.CASING_STAINLESS_CLEAN)
            .pattern(definition -> FactoryBlockPattern.start(definition, RelativeDirection.RIGHT, RelativeDirection.UP, RelativeDirection.BACK)
                    .aisle("ABAAA  ", "ADA A  ", "AAA A  ", "AABAA  ", "A A A  ", "A A A  ", "AAAAA  ")
                    .aisle("AAAAAAA", "A ACAAA", "A ACAAA", "AAAAAAA", "ACACAAA", "ACACA  ", "AAAAA  ")
                    .aisle("AAAAAAB", "A A A A", "A A A A", "AAAAA A", "A A A A", "A A A  ", "AAAAA  ")
                    .aisle("AAAAAAA", "AAAAAAA", "AAAAAAA", "AAAAAAA", "AAAAAAA", "AAAAA  ", "AAAAA  ")
                    .where('A', blocks(GTBlocks.CASING_STAINLESS_CLEAN.get()))
                    .where('B', blocks(GTBlocks.CASING_STAINLESS_CLEAN.get())
                            .or(abilities(EXPORT_ITEMS).setMaxGlobalLimited(1))
                            .or(abilities(GTOPartAbility.DRONE_HATCH).setExactLimit(1)))
                    .where('C', blocks(GTBlocks.CASING_STAINLESS_STEEL_GEARBOX.get()))
                    .where('D', controller(blocks(definition.get())))
                    .where(' ', any())
                    .build())
            .workableCasingRenderer(GTCEu.id("block/casings/solid/machine_casing_clean_stainless_steel"), GTOCore.id("block/multiblock/general0"))
            .register();

    public static final MultiblockMachineDefinition WIRELESS_ENERGY_SUBSTATION = multiblock("wireless_energy_substation", "无线能源塔", WirelessEnergySubstationMachine::new)
            .nonYAxisRotation()
            .recipeTypes(DUMMY_RECIPES)
            .tooltips(GTOMachineTooltips.INSTANCE.getWirelessEnergySubstationTooltips().getSupplier())
            .block(GTBlocks.CASING_STEEL_SOLID)
            .pattern(definition -> FactoryBlockPattern.start(definition, RelativeDirection.RIGHT, RelativeDirection.FRONT, RelativeDirection.UP)
                    .aisle("AAAAAAA", "AAAAAAA", "AAAAAAA", "AAAAAAA", "AAAAAAA", "AAAAAAA", "AAABAAA")
                    .aisle("ACCCCCA", "CDDDDDC", "CDDDDDC", "CDDDDDC", "CDDDDDC", "CDDDDDC", "ACCCCCA").setRepeatable(2, 30)
                    .aisle("AAAAAAA", "AAAAAAA", "AAAAAAA", "AAAAAAA", "AAAAAAA", "AAAAAAA", "AAAAAAA")
                    .where('A', blocks(GTBlocks.CASING_STEEL_SOLID.get()))
                    .where('B', controller(blocks(definition.get())))
                    .where('C', GTOPredicates.glass())
                    .where('D', air().or(GTOPredicates.wirelessEnergyUnit()))
                    .build())
            .checkPriority(1000)
            .workableCasingRenderer(GTCEu.id("block/casings/solid/machine_casing_solid_steel"), GTCEu.id("block/multiblock/power_substation"))
            .register();

    public static final MultiblockMachineDefinition WIRELESS_DIMENSION_REPEATER = multiblock("wireless_dimension_repeater", "无线电网维度中继器", WirelessDimensionRepeaterMachine::new)
            .nonYAxisRotation()
            .recipeTypes(DUMMY_RECIPES)
            .block(GTBlocks.CASING_PALLADIUM_SUBSTATION)
            .tooltips(GTOMachineTooltips.INSTANCE.getWirelessDimensionRepeaterTooltips().getSupplier())
            .pattern(definition -> FactoryBlockPattern.start(definition, RelativeDirection.BACK, RelativeDirection.UP, RelativeDirection.LEFT)
                    .aisle("               ", "               ", "               ", "               ", "               ", "               ", "      AAA      ", "     BBBB      ", "      AAA      ", "               ", "               ", "               ", "               ", "               ", "               ")
                    .aisle("               ", "               ", "               ", "               ", "               ", "               ", "       C AA    ", "      DCDBB    ", "       C AA    ", "               ", "               ", "               ", "               ", "               ", "               ")
                    .aisle("               ", "               ", "               ", "               ", "               ", "               ", "       C   A   ", "       E DDB   ", "       C   A   ", "               ", "               ", "               ", "               ", "               ", "               ")
                    .aisle("               ", "               ", "               ", "               ", "               ", "               ", "            A  ", "           DB  ", "            A  ", "               ", "               ", "               ", "               ", "               ", "               ")
                    .aisle("               ", "               ", "               ", "               ", "               ", "               ", "             A ", "            DB ", "             A ", "               ", "               ", "               ", "               ", "               ", "               ")
                    .aisle("               ", "               ", "               ", "               ", "               ", "               ", "             A ", "       F    DB ", "             A ", "               ", "               ", "               ", "               ", "               ", "               ")
                    .aisle("      AAA      ", "    AA C       ", "   A   C       ", "  A            ", " A             ", " A             ", "A             A", "ACC          DB", "A             A", " A             ", " A             ", "  A            ", "   A   C       ", "    AA C       ", "      AAA      ")
                    .aisle("      BBBB     ", "    BGECE      ", "   BEE         ", "  BE           ", " BE            ", " BE    F       ", "BE          CCA", "HCD  F   F  ECB", "BE          CCA", " BE    F       ", " BE            ", "  BE           ", "   BEE D       ", "    BBECE      ", "      BBBB     ")
                    .aisle("      AAA      ", "    AA C       ", "   A   C       ", "  A            ", " A             ", " A             ", "A             A", "ACC          DB", "A             A", " A             ", " A             ", "  A            ", "   A   C       ", "    AA C       ", "      AAA      ")
                    .aisle("               ", "               ", "               ", "               ", "               ", "               ", "             A ", "       F    DB ", "             A ", "               ", "               ", "               ", "               ", "               ", "               ")
                    .aisle("               ", "               ", "               ", "               ", "               ", "               ", "             A ", "            DB ", "             A ", "               ", "               ", "               ", "               ", "               ", "               ")
                    .aisle("               ", "               ", "               ", "               ", "               ", "               ", "            A  ", "           DB  ", "            A  ", "               ", "               ", "               ", "               ", "               ", "               ")
                    .aisle("               ", "               ", "               ", "               ", "               ", "               ", "       C   A   ", "       E DDB   ", "       C   A   ", "               ", "               ", "               ", "               ", "               ", "               ")
                    .aisle("               ", "               ", "               ", "               ", "               ", "               ", "       C AA    ", "      DCDBB    ", "       C AA    ", "               ", "               ", "               ", "               ", "               ", "               ")
                    .aisle("               ", "               ", "               ", "               ", "               ", "               ", "      AAA      ", "     BBBB      ", "      AAA      ", "               ", "               ", "               ", "               ", "               ", "               ")
                    .where('A', blocks(GTBlocks.CASING_PALLADIUM_SUBSTATION.get()))
                    .where('B', GTOPredicates.integralFramework())
                    .where('C', blocks(GTBlocks.HIGH_POWER_CASING.get()))
                    .where('D', blocks(Blocks.SEA_LANTERN))
                    .where('E', blocks(Blocks.CRYING_OBSIDIAN))
                    .where('F', blocks(RegistriesUtils.getBlock("ae2:quantum_ring")))
                    .where('G', blocks(GTBlocks.CASING_STAINLESS_CLEAN.get()))
                    .where('H', controller(blocks(definition.get())))
                    .where(' ', any())
                    .build())
            .checkPriority(1000)
            .workableCasingRenderer(GTCEu.id("block/casings/solid/machine_casing_palladium_substation"), GTCEu.id("block/multiblock/power_substation"))
            .register();

    public static final MultiblockMachineDefinition[] PROCESSING_ARRAY = registerTieredMultis("processing_array", t -> GTOValues.VNFR[t] + "处理阵列",
            ProcessingArrayMachine::new, (tier, builder) -> builder
                    .langValue(VNF[tier] + " Processing Array")
                    .nonYAxisRotation()
                    .recipeTypes(DUMMY_RECIPES)
                    .tooltipsKey("gtocore.machine.processing_array.tooltip.0")
                    .tooltipsKey("gtocore.machine.processing_array.tooltip.1")
                    .specialParallelizableTooltips()
                    .tooltips(NewDataAttributes.ALLOW_PARALLEL_NUMBER.create(ProcessingArrayMachine.getMachineLimit(tier)))
                    .laserTooltips()
                    .block(() -> ProcessingArrayMachine.getCasingState(tier))
                    .blockProp(p -> p.noOcclusion().isViewBlocking((state, level, pos) -> false))
                    .shape(Shapes.box(0.001, 0.001, 0.001, 0.999, 0.999, 0.999))
                    .pattern(definition -> FactoryBlockPattern.start(definition)
                            .aisle("XXX", "CCC", "XXX")
                            .aisle("XXX", "C#C", "XXX")
                            .aisle("XSX", "CCC", "XXX")
                            .where('S', controller(blocks(definition.getBlock())))
                            .where('X', blocks(ProcessingArrayMachine.getCasingState(tier))
                                    .setMinGlobalLimited(6)
                                    .or(abilities(IMPORT_ITEMS))
                                    .or(abilities(EXPORT_ITEMS))
                                    .or(abilities(IMPORT_FLUIDS))
                                    .or(abilities(EXPORT_FLUIDS))
                                    .or(abilities(INPUT_ENERGY).setMaxGlobalLimited(1))
                                    .or(abilities(INPUT_LASER).setMaxGlobalLimited(1))
                                    .or(blocks(GTOMachines.MACHINE_ACCESS_INTERFACE.getBlock()).setExactLimit(1))
                                    .or(abilities(MAINTENANCE).setExactLimit(1)))
                            .where('C', GTOPredicates.glass())
                            .where('#', air())
                            .build())
                    .renderer(() -> new ArrayMachineRenderer(tier == IV ? GTCEu.id("block/casings/solid/machine_casing_robust_tungstensteel") : GTCEu.id("block/casings/solid/machine_casing_sturdy_hsse"), GTCEu.id("block/multiblock/gcym/large_assembler")))
                    .register(),
            IV, LuV);
    public static final MultiblockMachineDefinition SINTERING_FURNACE = multiblock("sintering_furnace", "烧结炉", CoilMultiblockMachine.createCoilMachine(false, true))
            .nonYAxisRotation()
            .tooltips(GTOMachineStories.INSTANCE.getSinteringFurnaceTooltips().getSupplier())
            .parallelizableTooltips()
            .recipeTypes(GTORecipeTypes.SINTERING_FURNACE_RECIPES)
            .parallelizableOverclock()
            .block(GTBlocks.CASING_STAINLESS_CLEAN)
            .pattern(definition -> FactoryBlockPattern.start(definition)
                    .aisle("     ", " AAA ", " AHA ", " AAA ", "     ")
                    .aisle(" CCC ", "CDDDC", "CD DC", "CDDDC", " CCC ")
                    .aisle(" CEC ", "CDFDC", "GF FG", "CDFDC", " CEC ")
                    .aisle(" CEC ", "CDFDC", "GF FG", "CDFDC", " CEC ")
                    .aisle(" CEC ", "CDFDC", "GF FG", "CDFDC", " CEC ")
                    .aisle(" CCC ", "CDDDC", "CD DC", "CDDDC", " CCC ")
                    .aisle("     ", " AAA ", " ABA ", " AAA ", "     ")
                    .where('A', blocks(GTBlocks.CASING_STAINLESS_CLEAN.get())
                            .or(autoAbilities(definition.getRecipeTypes()))
                            .or(abilities(PARALLEL_HATCH).setMaxGlobalLimited(1))
                            .or(abilities(MAINTENANCE).setExactLimit(1)))
                    .where('B', controller(blocks(definition.get())))
                    .where('C', blocks(GTBlocks.CASING_TUNGSTENSTEEL_ROBUST.get()))
                    .where('D', blocks(GTBlocks.CASING_STAINLESS_CLEAN.get()))
                    .where('E', blocks(ChemicalHelper.getBlock(TagPrefix.frameGt, GTMaterials.StainlessSteel)))
                    .where('F', heatingCoils())
                    .where('G', blocks(GTBlocks.CASING_TEMPERED_GLASS.get()))
                    .where('H', abilities(MUFFLER))
                    .where(' ', any())
                    .build())
            .workableCasingRenderer(GTCEu.id("block/casings/solid/machine_casing_clean_stainless_steel"), GTCEu.id("block/multiblock/blast_furnace"))
            .register();

    public static final MultiblockMachineDefinition ISOSTATIC_PRESS = multiblock("isostatic_press", "等静压成型", ElectricMultiblockMachine::new)
            .nonYAxisRotation()
            .tooltips(GTOMachineStories.INSTANCE.getIsostaticPressMachineTooltips().getSupplier())
            .parallelizableTooltips()
            .recipeTypes(GTORecipeTypes.ISOSTATIC_PRESSING_RECIPES)
            .parallelizableOverclock()
            .block(GTBlocks.CASING_TITANIUM_STABLE)
            .pattern(definition -> FactoryBlockPattern.start(definition)
                    .aisle("AAAAA", "A   A", "A   A", "A   A", "BBBBB", "CCCCC", "     ", "     ")
                    .aisle("ABBBA", " DDD ", " DDD ", " DDD ", "BDDDB", "C   C", "     ", " BBB ")
                    .aisle("ABBBA", " DDD ", " D D ", " D D ", "BDFDB", "B F B", "B F B", "BBFBB")
                    .aisle("ABBBA", " DDD ", " DDD ", " DDD ", "BDDDB", "C   C", "     ", " BBB ")
                    .aisle("AAEAA", "A   A", "A   A", "A   A", "BBBBB", "CCCCC", "     ", "     ")
                    .where('A', blocks(GTBlocks.CASING_TITANIUM_STABLE.get())
                            .or(GTOPredicates.autoAccelerateAbilities(definition.getRecipeTypes()))
                            .or(abilities(PARALLEL_HATCH).setMaxGlobalLimited(1))
                            .or(abilities(MAINTENANCE).setExactLimit(1)))
                    .where('B', blocks(GTBlocks.CASING_TITANIUM_STABLE.get()))
                    .where('C', blocks(ChemicalHelper.getBlock(TagPrefix.frameGt, GTMaterials.BlueSteel)))
                    .where('D', blocks(GTOBlocks.COMPRESSOR_CONTROLLER_CASING.get()))
                    .where('E', controller(blocks(definition.get())))
                    .where('F', blocks(GTOBlocks.COMPRESSOR_PIPE_CASING.get()))
                    .where(' ', any())
                    .build())
            .workableCasingRenderer(GTCEu.id("block/casings/solid/machine_casing_stable_titanium"), GTCEu.id("block/multiblock/gcym/large_material_press"))
            .register();

    public static final MultiblockMachineDefinition DRAWING_TOWER = multiblock("drawing_tower", "拉丝塔", DrawingTowerMachine::new)
            .nonYAxisRotation()
            .tooltips(GTOMachineStories.INSTANCE.getDrawingTowerTooltips().getSupplier())
            .tooltips(GTOMachineTooltips.INSTANCE.getDrawingTowerTooltips().getSupplier())
            .recipeTypes(GTORecipeTypes.DRAWING_RECIPES)
            .block(GTBlocks.CASING_TUNGSTENSTEEL_ROBUST)
            .pattern(definition -> FactoryBlockPattern.start(definition, RelativeDirection.BACK, RelativeDirection.RIGHT, RelativeDirection.UP)
                    .aisle("NNNNNNNN", "NAAAAAAN", "NAAAAAAN", "NAAAAAAN", "NNNNNNNN")
                    .aisle("NNNNNNNN", "NAFA   N", "HCC    N", "NAFA   N", "NNNNNNNN")
                    .aisle(" AAAAAAA", " AFA   A", " CC B  A", " AFA   A", " AAAAAAA")
                    .aisle(" AAAAAAA", " AFFF  A", " CCBBB A", " AFFF  A", " AAAIAAA")
                    .aisle("  AAAAAA", "  AAA  A", "  C B  A", "  AAA  A", "  AAAAAA")
                    .aisle("   AABAA", "   A   A", "   B   A", "   A   A", "   AABAA")
                    .aisle("   CCBCC", "   C   C", "   B   B", "   C   C", "   CCBcC").setRepeatable(16, 96)
                    .aisle("   AAAAA", "   A   A", "   A   A", "   A   A", "   AAAAA")
                    .aisle("   DDADD", "   DGGGD", "   AG GA", "   DGGGD", "   DDADD")
                    .aisle("   DDADD", "   DGGGD", "   AG GA", "   DGGGD", "   DDADD")
                    .aisle("   AAAAA", "   A   A", "   A   A", "   A   A", "   AAAAA")
                    .aisle("   DDEDD", "   D   D", "   E   E", "   D   D", "   DDEDD")
                    .aisle("   DDEDD", "   D   D", "   E   E", "   D   D", "   DDEDD")
                    .aisle("   DDEDD", "   DDEDD", "   EEEEE", "   DDEDD", "   DDEDD")
                    .aisle("   AAAAA", "   AAAAA", "   AAMAA", "   AAAAA", "   AAAAA")
                    .where('A', blocks(GTBlocks.CASING_TUNGSTENSTEEL_ROBUST.get()))
                    .where('M', blocks(GTBlocks.CASING_TUNGSTENSTEEL_ROBUST.get())
                            .or(abilities(IMPORT_ITEMS).setExactLimit(1)))
                    .where('N', blocks(GTBlocks.CASING_TUNGSTENSTEEL_ROBUST.get())
                            .or(abilities(EXPORT_ITEMS))
                            .or(abilities(INPUT_ENERGY).setMaxGlobalLimited(2))
                            .or(abilities(MAINTENANCE).setExactLimit(1)))
                    .where('B', blocks(ChemicalHelper.getBlock(TagPrefix.frameGt, GTMaterials.StainlessSteel)))
                    .where('C', blocks(GTBlocks.CASING_LAMINATED_GLASS.get()))
                    .where('c', GTOPredicates.countBlock("laminated_glass", GTBlocks.CASING_LAMINATED_GLASS.get()))
                    .where('D', blocks(GTOBlocks.TUNGSTEN_BOROSILICATE_GLASS.get()))
                    .where('E', blocks(ChemicalHelper.getBlock(TagPrefix.frameGt, GTMaterials.TungstenSteel)))
                    .where('F', blocks(GTBlocks.CASING_TUNGSTENSTEEL_GEARBOX.get()))
                    .where('G', heatingCoils())
                    .where('H', controller(blocks(definition.get())))
                    .where('I', blocks(GTOMachines.SPOOL_HATCH.get()))
                    .where(' ', any())
                    .build())
            .workableCasingRenderer(GTCEu.id("block/casings/solid/machine_casing_robust_tungstensteel"), GTCEu.id("block/multiblock/large_miner"))
            .register();

    public static final MultiblockMachineDefinition ROCKET_ASSEMBLER = multiblock("rocket_assembler", "火箭装配机", ElectricMultiblockMachine::new)
            .nonYAxisRotation()
            .recipeTypes(GTORecipeTypes.ROCKET_ASSEMBLER_RECIPES)
            .noRecipeModifier()
            .block(GTBlocks.CASING_STAINLESS_CLEAN)
            .pattern(definition -> FactoryBlockPattern.start(definition, RelativeDirection.RIGHT, RelativeDirection.UP, RelativeDirection.BACK)
                    .aisle("      AAAAA      ", "       JJJ       ", "       JKJ       ", "       JJJ       ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ")
                    .aisle("    AAAAAAAAA    ", "      ABBBA      ", "       JJJ       ", "       JJJ       ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ")
                    .aisle("   AAAAAAAAAAA   ", "    AADDDDDAA    ", "       JJJ       ", "       JJJ       ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ")
                    .aisle("  AAAAABABAAAAA  ", "   ADD     DDA   ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ")
                    .aisle("  AAAAABABAAAAA  ", "  ADCC     CCDA  ", "     C     C     ", "     C     C     ", "     C     C     ", "     C     C     ", "     C     C     ", "     C     C     ", "     C     C     ", "     C     C     ", "     C     C     ", "     C     C     ", "     C     C     ", "     C     C     ", "   CCCCCCCCCCC   ", "     C     C     ", "     C     C     ", "     C     C     ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ")
                    .aisle(" AAAAAABABAAAAAA ", " AAD         DAA ", " AAA         AAA ", "  AE         EA  ", "  AE         EA  ", "  AE         EA  ", "  AE         EA  ", "  AE         EA  ", "  AE         EA  ", "  AA         AA  ", "   A         A   ", "   A         A   ", "   A         A   ", "   A         A   ", "   C         C   ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ")
                    .aisle("AAAAAAABABAAAAAAA", "AAAD         DAAA", " AAA         AAA ", " AAA         AAA ", " AAA         AAA ", " AAAFF     FFAAA ", " AAA         AAA ", " AAA         AAA ", " AAA         AAA ", " AAAFF     FFAAA ", "  AA         AA  ", "  AA         AA  ", "  AA         AA  ", "  AA         AA  ", "  AAFF     FFAA  ", "  AAF       FAA  ", "  AAF       FAA  ", "   AF       FA   ", "   AFF     FFA   ", "                 ", "                 ", "                 ", "                 ", "                 ")
                    .aisle("AAAAAAABABAAAAAAA", "AAGHI       IHGAA", " DGHI       IHGD ", " DGHI       IHGD ", " DGHI       IHGD ", " DGHI       IHGD ", " DGHI       IHGD ", " DGHI       IHGD ", " DGHI       IHGD ", " AGHI       IHGA ", "  DAI       IAD  ", "  DBI       IBD  ", "  DBI       IBD  ", "  DBI       IBD  ", "  DBI       IBD  ", "  DBI       IBD  ", "  ABI       IBA  ", "  AAI       IAA  ", "  AAA       AAA  ", "   AF       FA   ", "   AF       FA   ", "   AF       FA   ", "   A         A   ", "   A         A   ")
                    .aisle("AAAAAAABABAAAAAAA", "AAAD         DAAA", " AAA         AAA ", " AAA         AAA ", " AAA         AAA ", " AAAFF     FFAAA ", " AAA         AAA ", " AAA         AAA ", " AAA         AAA ", " AAAFF     FFAAA ", "  AA         AA  ", "  AA         AA  ", "  AA         AA  ", "  AA         AA  ", "  AAFF     FFAA  ", "  AAF       FAA  ", "  AAF       FAA  ", "   AF       FA   ", "   AFF     FFA   ", "                 ", "                 ", "                 ", "                 ", "                 ")
                    .aisle(" AAAAAABABAAAAAA ", " AAD         DAA ", " AAA         AAA ", "  AE         EA  ", "  AE         EA  ", "  AE         EA  ", "  AE         EA  ", "  AE         EA  ", "  AE         EA  ", "  AA         AA  ", "   A         A   ", "   A         A   ", "   A         A   ", "   A         A   ", "   C         C   ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ")
                    .aisle("  AAAAABABAAAAA  ", "  ADCC     CCDA  ", "     C     C     ", "     C     C     ", "     C     C     ", "     C     C     ", "     C     C     ", "     C     C     ", "     C     C     ", "     C     C     ", "     C     C     ", "     C     C     ", "     C     C     ", "     C     C     ", "   CCCCCCCCCCC   ", "     C     C     ", "     C     C     ", "     C     C     ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ")
                    .aisle("  AAAAABABAAAAA  ", "   ADC     CDA   ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ")
                    .aisle("   AAAABABAAAA   ", "    AC     CA    ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ")
                    .aisle("    AAABABAAA    ", "    AC     CA    ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ")
                    .aisle("     AABABAA     ", "     AA   AA     ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ")
                    .where('A', blocks(GTBlocks.CASING_STEEL_SOLID.get()))
                    .where('B', blocks(GTBlocks.CASING_STEEL_GEARBOX.get()))
                    .where('C', blocks(ChemicalHelper.getBlock(TagPrefix.frameGt, GTMaterials.Steel)))
                    .where('D', blocks(GTBlocks.CASING_GRATE.get()))
                    .where('E', blocks(GTBlocks.HERMETIC_CASING_LV.get()))
                    .where('F', blocks(ChemicalHelper.getBlock(TagPrefix.frameGt, GTMaterials.StainlessSteel)))
                    .where('G', blocks(GTBlocks.HERMETIC_CASING_HV.get()))
                    .where('H', blocks(GTBlocks.CASING_STAINLESS_STEEL_GEARBOX.get()))
                    .where('I', blocks(GTBlocks.CASING_STEEL_PIPE.get()))
                    .where('J', blocks(GTBlocks.CASING_STAINLESS_CLEAN.get())
                            .or(autoAbilities(definition.getRecipeTypes()))
                            .or(abilities(MAINTENANCE).setExactLimit(1)))
                    .where('K', controller(blocks(definition.get())))
                    .where(' ', any())
                    .build())
            .workableCasingRenderer(GTCEu.id("block/casings/solid/machine_casing_clean_stainless_steel"), GTCEu.id("block/multiblock/gcym/large_assembler"))
            .register();

    public static final MultiblockMachineDefinition GAS_COMPRESSOR = multiblock("gas_compressor", "气体压缩机", ElectricMultiblockMachine::new)
            .nonYAxisRotation()
            .recipeTypes(GTORecipeTypes.GAS_COMPRESSOR_RECIPES)
            .parallelizablePerfectOverclock()
            .parallelizableTooltips()
            .perfectOCTooltips()
            .block(GTBlocks.CASING_STEEL_SOLID)
            .pattern(definition -> FactoryBlockPattern.start(definition)
                    .aisle(" A A     ", " A A     ", " BBB     ", " BBB     ", " BBB     ", "         ")
                    .aisle("AAAAA CCC", "ABBBA CCC", "B   B CCC", "B E B    ", "B   B    ", " BBB     ")
                    .aisle("      CCC", " BBB  CFC", "B   B CEC", "B E B  G ", "B   B  G ", " BBBGGGG ")
                    .aisle("AAAAA CCC", "ABBBA CFC", "B   B CCC", "B E B    ", "B   B    ", " BBB     ")
                    .aisle("      CCC", " BBB  CFC", "B   B CEC", "B E B  G ", "B   BGGG ", " BBB     ")
                    .aisle("AAAAA CCC", "ABBBA CDC", "B   B CCC", "B E B    ", "B   B    ", " BBB     ")
                    .aisle(" A A     ", " A A     ", " BBB     ", " BBB     ", " BBB     ", "         ")
                    .where('A', blocks(ChemicalHelper.getBlock(TagPrefix.frameGt, GTMaterials.Invar)))
                    .where('B', blocks(GTBlocks.CASING_INVAR_HEATPROOF.get()))
                    .where('C', blocks(GTBlocks.CASING_STEEL_SOLID.get())
                            .or(autoAbilities(definition.getRecipeTypes()))
                            .or(abilities(PARALLEL_HATCH).setMaxGlobalLimited(1))
                            .or(abilities(MAINTENANCE).setExactLimit(1)))
                    .where('D', controller(blocks(definition.get())))
                    .where('E', blocks(GTBlocks.CASING_STEEL_PIPE.get()))
                    .where('F', blocks(GTBlocks.HERMETIC_CASING_LV.get()))
                    .where('G', blocks(GTBlocks.STEEL_HULL.get()))
                    .where(' ', any())
                    .build())
            .workableCasingRenderer(GTCEu.id("block/casings/solid/machine_casing_solid_steel"), GTCEu.id("block/multiblock/gcym/large_material_press"))
            .register();

    public static final MultiblockMachineDefinition SUPER_MOLECULAR_ASSEMBLER = multiblock("super_molecular_assembler", "超级分子装配室", SuperMolecularAssemblerMachine::new)
            .nonYAxisRotation()
            .recipeTypes(GTORecipeTypes.DUMMY_RECIPES)
            .tooltips(GTOMachineTooltips.INSTANCE.getSuperMolecularAssemblerTooltips().getSupplier())
            .tooltips(NewDataAttributes.ALLOW_PARALLEL_NUMBER.create(h -> h.addLines("合成物品的数量", "Amount of items to be crafted")))
            .multipleRecipesTooltips()
            .block(GTOBlocks.OXIDATION_RESISTANT_HASTELLOY_N_MECHANICAL_CASING)
            .pattern(definition -> FactoryBlockPattern.start(definition, RelativeDirection.RIGHT, RelativeDirection.UP, RelativeDirection.BACK)
                    .aisle("         ", "    A    ", "    A    ", "    A    ", "    B    ", "  BBLBB  ", "    B    ", "    A    ", "    A    ", "    A    ", "         ")
                    .aisle("    A    ", "   CBC   ", "  CCBCC  ", "  DCBCD  ", "  DCECD  ", " BDCECDB ", "  DCECD  ", "  DCBCD  ", "  CCBCC  ", "   CBC   ", "    A    ")
                    .aisle("    A    ", "  CFGFC  ", " CHHHHHC ", " D  E  D ", " D     D ", "BD     DB", " D     D ", " D  E  D ", " CHHHHHC ", "  CFGFC  ", "    A    ")
                    .aisle("    A    ", " CFFGFFC ", " CHIIIHC ", " C  J  C ", " C     C ", "BC     CB", " C     C ", " C  J  C ", " CHIIIHC ", " CFFGFFC ", "    A    ")
                    .aisle(" AAAAAAA ", "ABGGGGGBA", "ABHIIIHBA", "ABEJKJEBA", "BE  K  EB", "BE  K  EB", "BE  K  EB", "ABEJKJEBA", "ABHIIIHBA", "ABGGGGGBA", " AAAAAAA ")
                    .aisle("    A    ", " CFFGFFC ", " CHIIIHC ", " C  J  C ", " C     C ", "BC     CB", " C     C ", " C  J  C ", " CHIIIHC ", " CFFGFFC ", "    A    ")
                    .aisle("    A    ", "  CFGFC  ", " CHHHHHC ", " D  E  D ", " D     D ", "BD     DB", " D     D ", " D  E  D ", " CHHHHHC ", "  CFGFC  ", "    A    ")
                    .aisle("    A    ", "   CBC   ", "  CCBCC  ", "  DCBCD  ", "  DCECD  ", " BDCECDB ", "  DCECD  ", "  DCBCD  ", "  CCBCC  ", "   CBC   ", "    A    ")
                    .aisle("         ", "    A    ", "    A    ", "    A    ", "    B    ", "  BBBBB  ", "    B    ", "    A    ", "    A    ", "    A    ", "         ")
                    .where('A', blocks(ChemicalHelper.getBlock(TagPrefix.frameGt, GTOMaterials.HastelloyN)))
                    .where('B', blocks(GTOBlocks.OXIDATION_RESISTANT_HASTELLOY_N_MECHANICAL_CASING.get()))
                    .where('C', blocks(GTOBlocks.ZIRCONIA_CERAMIC_HIGH_STRENGTH_BENDING_RESISTANCE_MECHANICAL_BLOCK.get()).setMinGlobalLimited(20)
                            .or(blocks(GTAEMachines.ME_CRAFT_PATTERN_PART_MACHINE.get()))
                            .or(abilities(INPUT_ENERGY).setMaxGlobalLimited(2))
                            .or(abilities(EXPORT_ITEMS)))
                    .where('D', blocks(GTOBlocks.NAQUADAH_BOROSILICATE_GLASS.get()))
                    .where('E', blocks(GTOBlocks.MAGTECH_CASING.get()))
                    .where('F', blocks(GTOBlocks.PROCESS_MACHINE_CASING.get()))
                    .where('G', blocks(GTBlocks.CASING_ASSEMBLY_LINE.get()))
                    .where('H', blocks(GTBlocks.HIGH_POWER_CASING.get()))
                    .where('I', blocks(GTOBlocks.COMPRESSOR_CONTROLLER_CASING.get()))
                    .where('J', blocks(ChemicalHelper.getBlock(TagPrefix.frameGt, GTMaterials.Europium)))
                    .where('K', blocks(GTOBlocks.EXTREME_DENSITY_CASING.get()))
                    .where('L', controller(blocks(definition.get())))
                    .where(' ', any())
                    .build())
            .renderer(() -> new CustomPartRenderer(GTOCore.id("block/casings/oxidation_resistant_hastelloy_n_mechanical_casing"), GTCEu.id("block/multiblock/fusion_reactor"), GTOCore.id("block/zirconia_ceramic_high_strength_bending_resistance_mechanical_block")))
            .register();

    public static final MultiblockMachineDefinition RARITY_FORGE = multiblock("rarity_forge", "珍宝锻炉", ElectricMultiblockMachine::new)
            .allRotation()
            .tooltips(GTOMachineStories.INSTANCE.getRarityForgeTooltips().getSupplier())
            .recipeTypes(GTORecipeTypes.RARITY_FORGE_RECIPES)
            .block(GTBlocks.MACHINE_CASING_ULV)
            .pattern(definition -> FactoryBlockPattern.start(definition)
                    .aisle("aaa", "aaa", "aaa")
                    .aisle("aaa", "aca", "aaa")
                    .aisle("aaa", "aia", "aaa")
                    .where('a', blocks(GTBlocks.MACHINE_CASING_ULV.get())
                            .or(GTOPredicates.autoThreadLaserAbilities(definition.getRecipeTypes()))
                            .or(abilities(INPUT_ENERGY)))
                    .where('i', controller(blocks(definition.get())))
                    .where('c', air())
                    .build())
            .workableCasingRenderer(GTCEu.id("block/casings/voltage/ulv/side"), GTOCore.id("block/multiblock/general0"))
            .register();

    public static final MultiblockMachineDefinition ME_STORAGE = multiblock("me_storage", "ME存储器", MEStorageMachine::new)
            .langValue("ME Storage")
            .allRotation()
            .tooltips(GTOMachineTooltips.INSTANCE.getMEStorageTooltips().getSupplier())
            .tooltips(NewDataAttributes.CAPACITY.create(CNEN.create("768 个ME存储核心", "768 ME Storage Cores")))
            .recipeTypes(DUMMY_RECIPES)
            .block(GTBlocks.COMPUTER_CASING)
            .pattern(definition -> FactoryBlockPattern.start(definition, RelativeDirection.BACK, RelativeDirection.UP, RelativeDirection.RIGHT)
                    .aisle("AAA", "DDD", "DDD", "DDD", "AAA")
                    .aisle("AAA", "DBD", "EBD", "DBD", "AAA")
                    .aisle("BBB", "BGB", "BGB", "BGB", "BBB")
                    .aisle("CBC", "cHc", "cHc", "cHc", "CBC").setRepeatable(1, 128)
                    .aisle("BBB", "BBB", "BBB", "BBB", "BBB")
                    .where('A', blocks(GTBlocks.COMPUTER_HEAT_VENT.get()))
                    .where('B', blocks(GTBlocks.COMPUTER_CASING.get()))
                    .where('C', GTOPredicates.absBlocks())
                    .where('D', blocks(GTBlocks.COMPUTER_CASING.get()).or(blocks(GTAEMachines.ME_STORAGE_ACCESS_HATCH.getBlock(), GTAEMachines.ME_BIG_STORAGE_ACCESS_HATCH.getBlock(), GTAEMachines.ME_IO_STORAGE_ACCESS_HATCH.getBlock()).setExactLimit(1)))
                    .where('E', controller(blocks(definition.get())))
                    .where('G', blocks(GTBlocks.HIGH_POWER_CASING.get()))
                    .where('H', blocks(GTOBlocks.LITHIUM_OXIDE_CERAMIC_HEAT_RESISTANT_SHOCK_RESISTANT_MECHANICAL_CUBE.get()))
                    .where('c', GTOPredicates.MEStorageCore())
                    .build())
            .checkPriority(1000)
            .workableCasingRenderer(GTCEu.id("block/casings/hpca/computer_casing/back"), GTCEu.id("block/multiblock/fusion_reactor"))
            .register();

    public static final MultiblockMachineDefinition ME_ENERGY_SUBSTATION = multiblock("me_energy_substation", "ME能源塔", TierCasingMultiblockMachine.createMachine(GLASS_TIER))
            .langValue("ME Energy Substation")
            .allRotation()
            .recipeTypes(DUMMY_RECIPES)
            .block(GTBlocks.CASING_STEEL_SOLID)
            .block(GTBlocks.CASING_TUNGSTENSTEEL_ROBUST)
            .pattern(definition -> FactoryBlockPattern.start(definition)
                    .aisle("AAAAA", "ABBBA", "ABCBA", "ABBBA", "AAAAA")
                    .aisle("ABBBA", "BDEDB", "BDFDB", "BDEDB", "ACCCA")
                    .aisle("ABCBA", "BEFEB", "CFHFC", "BEFEB", "ACCCA")
                    .aisle("ABBBA", "BDEDB", "BDFDB", "BDEDB", "ACCCA")
                    .aisle("AAGAA", "ABBBA", "ABCBA", "ABBBA", "AAAAA")
                    .where('A', blocks(GTBlocks.CASING_TUNGSTENSTEEL_ROBUST.get())
                            .or(blocks(GTAEMachines.ME_ENERGY_ACCESS_HATCH.get()).setExactLimit(1))
                            .or(abilities(INPUT_ENERGY).setMaxGlobalLimited(2)))
                    .where('B', blocks(GTBlocks.HIGH_POWER_CASING.get()))
                    .where('C', GTOPredicates.glass())
                    .where('D', blocks(GTBlocks.BATTERY_LAPOTRONIC_IV.get()))
                    .where('E', blocks(GTBlocks.BATTERY_EMPTY_TIER_II.get()))
                    .where('F', blocks(ChemicalHelper.getBlock(TagPrefix.frameGt, GTMaterials.TungstenSteel)))
                    .where('G', controller(blocks(definition.get())))
                    .where('H', blocks(RegistriesUtils.getBlock("ae2:energy_acceptor")))
                    .build())
            .addSubPattern(definition -> FactoryBlockPattern.start(definition)
                    .aisle(" BBBBB ", " BFFFB ", " BFCFB ", " BFFFB ", " BBBBB ", " EE EE ", "  E E  ")
                    .aisle(" BCDCB ", " CGEGC ", " DEIED ", " CGEGC ", " BCDCB ", "       ", "  E E  ")
                    .aisle(" BCDCB ", " CGEGC ", " DEIED ", " CGEGC ", " BCDCB ", "       ", "  E E  ")
                    .aisle("ABCDCBA", " CGEGC ", " DEIED ", " CGEGC ", " BCDCB ", "       ", "  E E  ")
                    .aisle("ABBDBBA", " BGEGB ", " DEJED ", " BGEGB ", " BBDBB ", " EE EE ", "  E E  ")
                    .aisle("ABBDBBA", "ABGEGBA", "ADEJEDA", "ABGEGBA", "ABBEBBA", " EEEEE ", "  E E  ")
                    .aisle("ABCDCBA", " CGEGC ", " DEIED ", " CGEGC ", " BCDCB ", "       ", "  E E  ")
                    .aisle("ABCDCBA", " CGEGC ", " DEIED ", " CGEGC ", " BCDCB ", "       ", "  E E  ")
                    .aisle("ABCDCBA", " CGEGC ", " DEIED ", " CGEGC ", " BCDCB ", "       ", "  E E  ")
                    .aisle("ABBBBBA", "ABFFFBA", "ABFCFBA", "ABFFFBA", "ABBEBBA", " EEEEE ", "  E E  ")
                    .aisle("A     A", "       ", "       ", "       ", "       ", " EE EE ", "  E E  ")
                    .aisle("A     A", "       ", "       ", "       ", "       ", "       ", "  E E  ")
                    .aisle("       ", "       ", "       ", "       ", "       ", "       ", "  E E  ")
                    .aisle("       ", "       ", "       ", "       ", "       ", "       ", "  E E  ")
                    .aisle("   H   ", "       ", "       ", "       ", "       ", " EE EE ", "  E E  ")
                    .where('A', blocks(GTBlocks.CASING_TUNGSTENSTEEL_ROBUST.get())
                            .or(abilities(INPUT_LASER).setMaxGlobalLimited(4)))
                    .where('B', blocks(GTBlocks.COMPUTER_CASING.get()))
                    .where('C', GTOPredicates.glass())
                    .where('D', blocks(GTBlocks.ADVANCED_COMPUTER_CASING.get()))
                    .where('E', blocks(GTBlocks.CASING_PALLADIUM_SUBSTATION.get()))
                    .where('F', blocks(GTBlocks.HIGH_POWER_CASING.get()))
                    .where('G', blocks(GCYMBlocks.ELECTROLYTIC_CELL.get()))
                    .where('H', controller(blocks(definition.get())))
                    .where('I', blocks(GTBlocks.BATTERY_LAPOTRONIC_ZPM.get()))
                    .where('J', blocks(RegistriesUtils.getBlock("ae2:energy_acceptor")))
                    .where(' ', any())
                    .build())
            .checkPriority(1000)
            .workableCasingRenderer(GTCEu.id("block/casings/solid/machine_casing_robust_tungstensteel"), GTCEu.id("block/multiblock/fusion_reactor"))
            .register();

    public static final MultiblockMachineDefinition WIRELESS_CHARGER = multiblock("wireless_charger", "无线充能器", WirelessChargerMachine::new)
            .allRotation()
            .addTooltipsFromClass(WirelessChargerMachine.class)
            .recipeTypes(GTORecipeTypes.DUMMY_RECIPES)
            .block(GTBlocks.CASING_STEEL_SOLID)
            .pattern(definition -> FactoryBlockPattern.start(definition)
                    .aisle("aaa", "aaa", "aaa")
                    .aisle("aaa", "aca", "aaa")
                    .aisle("aaa", "aia", "aaa")
                    .where('a', blocks(GTBlocks.CASING_STEEL_SOLID.get()).or(abilities(INPUT_ENERGY)))
                    .where('i', controller(blocks(definition.get())))
                    .where('c', air())
                    .build())
            .checkPriority(1000)
            .workableCasingRenderer(GTCEu.id("block/casings/solid/machine_casing_solid_steel"), GTCEu.id("block/multiblock/fusion_reactor"))
            .register();

    public static final MultiblockMachineDefinition INTEGRATED_VAPOR_DEPOSITION_SYSTEM = multiblock("integrated_vapor_deposition_system", "综合气相沉积系统",
            TierCasingParallelMultiblockMachine.createParallel(m -> 1 << (2 * (m.getTier() - 1)), true, GLASS_TIER))
            .nonYAxisRotation()
            .tooltips(GTOMachineStories.INSTANCE.getIntegratedVaporDepositionSystemTooltips().getSupplier())
            .tooltips(GTOMachineTooltips.INSTANCE.getIntegratedVaporDepositionSystemTooltips().getSupplier())
            .specialParallelizableTooltips()
            .laserTooltips()
            .multipleRecipesTooltips()
            .combinedRecipeTooltips()
            .recipeTypes(GTORecipeTypes.VAPOR_DEPOSITION)
            .block(GTOBlocks.IRIDIUM_CASING)
            .pattern(definition -> MultiBlockFileReader.start(definition)
                    .where('A', blocks(GTOBlocks.ANTIFREEZE_HEATPROOF_MACHINE_CASING.get()))
                    .where('B', blocks(ChemicalHelper.getBlock(TagPrefix.frameGt, GTOMaterials.BabbittAlloy)))
                    .where('C', blocks(GTOBlocks.SPS_CASING.get()))
                    .where('D', GTOPredicates.glass())
                    .where('E', blocks(ChemicalHelper.getBlock(TagPrefix.frameGt, GTMaterials.NaquadahAlloy)))
                    .where('F', blocks(GTOBlocks.STABILIZED_NAQUADAH_WATER_PLANT_CASING.get()))
                    .where('G', blocks(GTBlocks.CASING_POLYTETRAFLUOROETHYLENE_PIPE.get()))
                    .where('H', blocks(GTOBlocks.LAFIUM_MECHANICAL_CASING.get()))
                    .where('I', blocks(GTOBlocks.HOLLOW_CASING.get()))
                    .where('J', blocks(GTOBlocks.HERMETIC_CASING_UEV.get()))
                    .where('K', blocks(GCYMBlocks.CASING_ATOMIC.get()))
                    .where('L', blocks(GTOBlocks.IRIDIUM_CASING.get()))
                    .where('M', blocks(ChemicalHelper.getBlock(TagPrefix.frameGt, GTOMaterials.Laurenium)))
                    .where('N', blocks(GTOBlocks.AMPROSIUM_ACTIVE_CASING.get()))
                    .where('O', blocks(GTOBlocks.IRIDIUM_CASING.get())
                            .or(GTOPredicates.autoThreadLaserAbilities(definition.getRecipeTypes()))
                            .or(abilities(MAINTENANCE).setExactLimit(1)))
                    .where('P', controller(blocks(definition.get())))
                    .where('Q', blocks(GTBlocks.CASING_PALLADIUM_SUBSTATION.get()))
                    .where('R', blocks(GTOBlocks.PRESSURE_CONTAINMENT_CASING.get()))
                    .where('S', blocks(GTOBlocks.STRONTIUM_CARBONATE_CERAMIC_RAY_ABSORBING_MECHANICAL_CUBE.get()))
                    .where('T', blocks(GTOBlocks.NEUTRONIUM_STABLE_CASING.get()))
                    .where('U', blocks(GTOBlocks.AMPROSIUM_PIPE_CASING.get()))
                    .where('V', blocks(ChemicalHelper.getBlock(TagPrefix.frameGt, GTMaterials.Polytetrafluoroethylene)))
                    .where('W', blocks(GTOBlocks.ADVANCED_ASSEMBLY_LINE_UNIT.get()))
                    .where('X', blocks(GCYMBlocks.CASING_CORROSION_PROOF.get()))
                    .where('Y', blocks(GTOBlocks.CONTAINMENT_FIELD_GENERATOR.get()))
                    .where('Z', blocks(GTOBlocks.NAQUADAH_REINFORCED_PLANT_CASING.get()))
                    .where('[', blocks(GTOBlocks.QUANTUM_GLASS.get()))
                    .where(' ', any())
                    .build())
            .workableCasingRenderer(GTOCore.id("block/casings/iridium_casing"), GTCEu.id("block/multiblock/fusion_reactor"))
            .register();

    public static final MultiblockMachineDefinition MULTIBLOCK_CRATE = multiblock("multiblock_crate", "多方块板条箱", MultiblockCrateMachine::new)
            .allRotation()
            .recipeTypes(GTORecipeTypes.DUMMY_RECIPES)
            .block(GTBlocks.STEEL_HULL)
            .tooltips(GTOMachineTooltips.INSTANCE.getMultiblockCrateMachineTooltips().getSupplier())
            .pattern(definition -> FactoryBlockPattern.start(definition)
                    .aisle("aaa", "aaa", "aaa")
                    .aisle("aaa", "aca", "aaa")
                    .aisle("aaa", "aia", "aaa")
                    .where('a', blocks(GTBlocks.STEEL_HULL.get()))
                    .where('i', controller(blocks(definition.get())))
                    .where('c', air())
                    .build())
            .workableCasingRenderer(GTCEu.id("block/casings/steam/steel/side"), GTCEu.id("block/multiblock/multiblock_tank"))
            .register();

    public static final MultiblockMachineDefinition ME_CPU = multiblock("me_cpu", "ME超算核心", MECPUMachine::new)
            .langValue("ME Super Computer Core")
            .allRotation()
            .recipeTypes(GTORecipeTypes.DUMMY_RECIPES)
            .tooltips(GTOMachineTooltips.INSTANCE.getMECPUTooltips().getSupplier())
            .block(GCYMBlocks.CASING_NONCONDUCTING)
            .pattern(definition -> FactoryBlockPattern.start(definition)
                    .aisle("  AABBCCCBBAA  ", "   AAB   BAA   ", "               ", "               ", "               ", "               ", "               ", "               ", "               ", "               ", "               ", "               ", "               ", "               ", "               ", "               ", "               ", "               ", "               ")
                    .aisle("   DDDCCCDDD   ", "   ADDCCCDDA   ", "     EEEEE     ", "               ", "               ", "               ", "               ", "               ", "               ", "     DHHHD     ", "     DHHHD     ", "               ", "               ", "               ", "               ", "               ", "               ", "               ", "               ")
                    .aisle("A DDDDDDDDDDD A", "   CDDDDDDDC   ", "    IDDDDDI    ", "    IDFFFDI    ", "    IDJJJDI    ", "               ", "               ", "               ", "      KKK      ", "    DDJJJDD    ", "    DDJJJDD    ", "      KKK      ", "               ", "               ", "               ", "               ", "     DDDDD     ", "     E   E     ", "               ")
                    .aisle("ADDDDDDDDDDDDDA", "AACCDMMMMMDCCAA", "    GMMMMMG    ", "    GJJJJJG    ", "   IIJJJJJII   ", "     HNNNH     ", "     JNNNJ     ", "     JNNNJ     ", "     HNNNH     ", "   DDJJJJJDD   ", "   DDJJJJJDD   ", "     HNNNH     ", "     JNNNJ     ", "     JNNNJ     ", "     HNNNH     ", "     JJJJJ     ", "    IJJJJJI    ", "    IDLLLDI    ", "     EEEEE     ")
                    .aisle("BDDDDDDDDDDDDDB", "ADDDMMFFFMMDDDA", "  IGMMOOOMMGI  ", "  IGJJOOOJJGI  ", "  IIJJOOOJJII  ", "    HHOOOHH    ", "    HJOOOJH    ", "    HJOOOJH    ", "    HHOOOHH    ", "  DDJJOOOJJDD  ", "  DDJJOOOJJDD  ", "    HHOOOHH    ", "    HJOOOJH    ", "    HJOOOJH    ", "    HHOOOHH    ", "    JJMMMJJ    ", "   IJJJJJJJI   ", "   IID   DII   ", "    IDGGGDI    ")
                    .aisle("BDDDDDDDDDDDDDB", "BDDMMFFFFFMMDDB", " EDMMOOOOOMMDE ", "  DJJOOOOOJJD  ", "  DJJOOOOOJJD  ", "   HHOOOOOHH   ", "   JJOOOOOJJ   ", "   JJOOOOOJJ   ", "   HHOOOOOHH   ", " DDJJOOOOOJJDD ", " DDJJOOOOOJJDD ", "   HHOOOOOHH   ", "   JJOOOOOJJ   ", "   JJOOOOOJJ   ", "   HHOOOOOHH   ", "   JJMMMMMJJ   ", "  DJJJJJJJJJD  ", "  EDD HHH DDE  ", "   EDDHHHDDE   ")
                    .aisle("CCDDDDDDDDDDDCC", " CDMFFFFFFFMDC ", " EDMOOOOOOOMDE ", "  FJOOOOOOOJF  ", "  JJOOOOOOOJJ  ", "   NOOOOOOON   ", "   NOOOOOOON   ", "   NOOOOOOON   ", "  KNOOOOOOONK  ", " FJJOOOOOOOJJF ", " FJJOOOOOOOJJF ", " DLNOOOOOOONLD ", " DLNOOOOOOONLD ", " DLNOOOOOOONLD ", " DLNOOOOOOONLD ", " DDJMMFFFMMJDD ", " HDJJJFFFJJJDH ", "  HD HFFFH DH  ", "   HGHPPPHGH   ")
                    .aisle("CCDDDDDDDDDDDCC", " CDMFFFFFFFMDC ", " EDMOOOOOOOMDE ", "  FJOOOOOOOJF  ", "  JJOOOOOOOJJ  ", "   NOOOOOOON   ", "   NOOOOOOON   ", "   NOOOOOOON   ", "  KNOOOOOOONK  ", " FJJOOOOOOOJJF ", " FJJOOOOOOOJJF ", " GDNOOOOOOONDG ", " GDNOOOOOOONDG ", " GDNOOOOOOONDG ", " GDNOOOOOOONDG ", " DDJMMFFFMMJDD ", " HDJJJFFFJJJDH ", "  FFFHFFFHFFF  ", "   HGHPPPHGH   ")
                    .aisle("CCDDDDDDDDDDDCC", " CDMFFFFFFFMDC ", " EDMOOOOOOOMDE ", "  FJOOOOOOOJF  ", "  JJOOOOOOOJJ  ", "   NOOOOOOON   ", "   NOOOOOOON   ", "   NOOOOOOON   ", "  KNOOOOOOONK  ", " FJJOOOOOOOJJF ", " FJJOOOOOOOJJF ", " DLNOOOOOOONLD ", " DLNOOOOOOONLD ", " DLNOOOOOOONLD ", " DLNOOOOOOONLD ", " DDJMMFFFMMJDD ", " HDJJJFFFJJJDH ", "  HD HFFFH DH  ", "   HGHPPPHGH   ")
                    .aisle("BDDDDDDDDDDDDDB", "BDDMMFFFFFMMDDB", " EDMMOOOOOMMDE ", "  DJJOOOOOJJD  ", "  DJJOOOOOJJD  ", "   HHOOOOOHH   ", "   JJOOOOOJJ   ", "   JJOOOOOJJ   ", "   HHOOOOOHH   ", " DDJJOOOOOJJDD ", " DDJJOOOOOJJDD ", "   HHOOOOOHH   ", "   JJOOOOOJJ   ", "   JJOOOOOJJ   ", "   HHOOOOOHH   ", "   JJMMMMMJJ   ", "  DJJJJJJJJJD  ", "  EDD HHH DDE  ", "   EDDHHHDDE   ")
                    .aisle("BDDDDDDDDDDDDDB", "ADDDMMFFFMMDDDA", "  IGMMOOOMMGI  ", "  IGJJOOOJJGI  ", "  IIJJOOOJJII  ", "    HHOOOHH    ", "    HJOOOJH    ", "    HJOOOJH    ", "    HHOOOHH    ", "  DDJJOOOJJDD  ", "  DDJJOOOJJDD  ", "    HHOOOHH    ", "    HJOOOJH    ", "    HJOOOJH    ", "    HHOOOHH    ", "    JJMMMJJ    ", "   IJJJJJJJI   ", "   IID   DII   ", "    IDGGGDI    ")
                    .aisle("ADDDDDDDDDDDDDA", "AACCDMMMMMDCCAA", "    GMMMMMG    ", "    GJJJJJG    ", "   IIJJJJJII   ", "     HNNNH     ", "     JNNNJ     ", "     JNNNJ     ", "     HNNNH     ", "   DDJJJJJDD   ", "   DDJJJJJDD   ", "     HNNNH     ", "     JNNNJ     ", "     JNNNJ     ", "     HNNNH     ", "     JJJJJ     ", "    IJJJJJI    ", "    IDLLLDI    ", "     EEEEE     ")
                    .aisle("A DDDDDDDDDDD A", "   CDDDDDDDC   ", "    IDDDDDI    ", "    IDFFFDI    ", "    IDJJJDI    ", "               ", "               ", "               ", "      KKK      ", "    DDJJJDD    ", "    DDJJJDD    ", "      KKK      ", "               ", "               ", "               ", "               ", "     DDDDD     ", "     E   E     ", "               ")
                    .aisle("   DDDCCCDDD   ", "   ADDCCCDDA   ", "     EEEEE     ", "               ", "               ", "               ", "               ", "               ", "               ", "     DHHHD     ", "     DHHHD     ", "               ", "               ", "               ", "               ", "               ", "               ", "               ", "               ")
                    .aisle("  AABBCCCBBAA  ", "   AABBQBBAA   ", "               ", "               ", "               ", "               ", "               ", "               ", "               ", "               ", "               ", "               ", "               ", "               ", "               ", "               ", "               ", "               ", "               ")
                    .where('A', blocks(GTOBlocks.HIGH_STRENGTH_CONCRETE.get()))
                    .where('B', blocks(GCYMBlocks.CASING_NONCONDUCTING.get())
                            .or(abilities(PARALLEL_HATCH).setMaxGlobalLimited(1))
                            .or(blocks(GTAEMachines.CRAFTING_CPU_INTERFACE.getBlock()).setExactLimit(1)))
                    .where('C', blocks(GCYMBlocks.MOLYBDENUM_DISILICIDE_COIL_BLOCK.get()))
                    .where('D', blocks(GCYMBlocks.CASING_NONCONDUCTING.get()))
                    .where('E', blocks(ChemicalHelper.getBlock(TagPrefix.frameGt, GTMaterials.BlackSteel)))
                    .where('F', blocks(GTOBlocks.COBALT_OXIDE_CERAMIC_STRONG_THERMALLY_CONDUCTIVE_MECHANICAL_BLOCK.get()))
                    .where('G', blocks(GCYMBlocks.ELECTROLYTIC_CELL.get()))
                    .where('H', blocks(GTBlocks.CASING_PALLADIUM_SUBSTATION.get()))
                    .where('I', blocks(GCYMBlocks.CASING_LASER_SAFE_ENGRAVING.get()))
                    .where('J', blocks(GTOBlocks.OXIDATION_RESISTANT_HASTELLOY_N_MECHANICAL_CASING.get()))
                    .where('K', blocks(ChemicalHelper.getBlock(TagPrefix.frameGt, GTMaterials.StainlessSteel)))
                    .where('L', blocks(GTBlocks.CASING_EXTREME_ENGINE_INTAKE.get()))
                    .where('M', blocks(GTBlocks.HIGH_POWER_CASING.get()))
                    .where('N', GTOPredicates.glass())
                    .where('O', GTOPredicates.craftingStorageCore().or(blocks(RegistriesUtils.getBlock("ae2:crafting_unit")).setMaxGlobalLimited(480)))
                    .where('P', blocks(GTBlocks.FILTER_CASING.get()))
                    .where('Q', controller(blocks(definition.get())))
                    .where(' ', any())
                    .build())
            .workableCasingRenderer(GTCEu.id("block/casings/gcym/nonconducting_casing"), GTCEu.id("block/multiblock/fusion_reactor"))
            .register();

    public static void init() {}
}
